<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>SQL 知识概述 (continual updating)</title>
    <url>/posts/187b1260.html</url>
    <content><![CDATA[<h2 id="数据库"><a class="markdownIt-Anchor" href="#数据库"></a> 数据库</h2>
<h3 id="安装mysql"><a class="markdownIt-Anchor" href="#安装mysql"></a> 安装 MySQL</h3>
<span id="more"></span>
<ol>
<li>下载 MySQL<br>
打开 <a href="https://dev.mysql.com/downloads/">MySQL 官网</a><code>https://dev.mysql.com/downloads/</code>，选择 <code>MySQL Installer for Windows</code>，如图：<br>
<img data-src="https://s1.ax1x.com/2023/07/03/pCrRC4S.png" alt="MySQL安装1"><br>
选择文件体积较大的文件安装<br>
如图：<br>
<img data-src="https://s1.ax1x.com/2023/07/03/pCrRl34.png" alt="MySQL安装2"><br>
弹出的注册界面直接点击 <code>No thanks, just start my download.</code>，如图：<br>
<img data-src="https://s1.ax1x.com/2023/07/03/pCrRBgH.png" alt="MySQL安装3"></li>
<li>安装 MySQL<br>
双击打开刚刚下载的文件开始安装<br>
选择 <code>server only</code>，如图：<br>
<img data-src="https://s1.ax1x.com/2023/07/03/pCrWlIf.png" alt="MySQL安装4"><br>
在此界面设置 root 用户密码，如图：<br>
<img data-src="https://s1.ax1x.com/2023/07/03/pCrWHQH.png" alt="MySQL安装5"><br>
最后单击 <code>finish</code> 完成安装即可</li>
<li>设置环境变量<br>
右键单击<strong>此电脑</strong>，单击<strong>属性</strong>，选择<strong>系统</strong>，单击<strong>高级系统设置</strong>，单击<strong>环境变量</strong>，选择 <strong>Path</strong>，单击<strong>编辑</strong>，单击<strong>新建</strong>，复制<strong>安装 MySQL 的 bin 目录</strong>，点击确定保存即可。</li>
<li>MySQL 常用命令行操作<br>
<a href="https://zhuanlan.zhihu.com/p/304156322">点击前往查看</a></li>
</ol>
<h2 id="语法基础"><a class="markdownIt-Anchor" href="#语法基础"></a> 语法基础</h2>
<h3 id="sql是什么"><a class="markdownIt-Anchor" href="#sql是什么"></a> SQL 是什么</h3>
<h4 id="sql简介"><a class="markdownIt-Anchor" href="#sql简介"></a> SQL 简介</h4>
<p>SQL，即 "<strong>S</strong>tructured <strong>Q</strong>uery <strong>L</strong>anguage (结构化查询语言)"，是数据库的标准语言。SQL 有 6 个常用动词: insert (插入)、delete (删除)、select (选择)、update (更新)、create (创建) 和 grant (授权)。</p>
<p>SQL 分类：</p>
<ol>
<li>数据定义语言 (DDL)</li>
<li> 数据操纵语言 (DML)</li>
<li> 数据控制语言 (DCL)</li>
</ol>
<h4 id="关键字"><a class="markdownIt-Anchor" href="#关键字"></a> 关键字</h4>
<table>
<thead>
<tr>
<th>关键字</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td> ADD</td>
<td> 在现有表中添加一列</td>
</tr>
<tr>
<td> ADD CONSTRAINT</td>
<td> 在创建表后添加约束</td>
</tr>
<tr>
<td> ALTER</td>
<td> 添加，删除或修改表中的列，或更改表中列的数据类型</td>
</tr>
<tr>
<td> ALTER COLUMN</td>
<td> 更改表中列的数据类型</td>
</tr>
<tr>
<td> ALTER TABLE</td>
<td> 添加，删除或修改表中的列</td>
</tr>
<tr>
<td> ALL</td>
<td> 如果所有子查询值都满足条件，则返回 true</td>
</tr>
<tr>
<td>AND</td>
<td> 仅包含两个条件都为真的行</td>
</tr>
<tr>
<td> ANY</td>
<td> 如果任何子查询值满足条件，则返回 true</td>
</tr>
<tr>
<td>AS</td>
<td> 用别名重命名列或表</td>
</tr>
<tr>
<td> ASC</td>
<td> 将结果集按升序排序</td>
</tr>
<tr>
<td> BACKUP DATABASE</td>
<td> 创建现有数据库的备份</td>
</tr>
<tr>
<td> BETWEEN</td>
<td> 选择给定范围内的值</td>
</tr>
<tr>
<td> CASE</td>
<td> 根据条件创建不同的输出</td>
</tr>
<tr>
<td> CHECK</td>
<td> 限制可以放置在列中的值的约束</td>
</tr>
<tr>
<td> COLUMN</td>
<td> 更改列的数据类型或删除表中的列</td>
</tr>
<tr>
<td> CONSTRAINT</td>
<td> 添加或删除约束</td>
</tr>
<tr>
<td> CREATE</td>
<td> 创建数据库，索引，视图，表或过程</td>
</tr>
<tr>
<td> CREATE DATABASE</td>
<td> 创建一个新的 SQL 数据库</td>
</tr>
<tr>
<td> CREATE INDEX</td>
<td> 在表上创建索引（允许重复值）</td>
</tr>
<tr>
<td>CREATE OR REPLACE VIEW</td>
<td> 更新视图</td>
</tr>
<tr>
<td> CREATE TABLE</td>
<td> 在数据库中创建一个新表</td>
</tr>
<tr>
<td> CREATE PROCEDURE</td>
<td> 创建一个存储过程</td>
</tr>
<tr>
<td> CREATE UNIQUE INDEX</td>
<td> 在表上创建唯一索引（无重复值）</td>
</tr>
<tr>
<td>CREATE VIEW</td>
<td> 根据 SELECT 语句的结果集创建视图</td>
</tr>
<tr>
<td> DATABASE</td>
<td> 创建或删除 SQL 数据库</td>
</tr>
<tr>
<td> DEFAULT</td>
<td> 为列提供默认值的约束</td>
</tr>
<tr>
<td> DELETE</td>
<td> 从表中删除行</td>
</tr>
<tr>
<td> DESC</td>
<td> 对结果集按降序排序</td>
</tr>
<tr>
<td> DISTINCT</td>
<td> 仅选择不同的（不同的）值</td>
</tr>
<tr>
<td> DROP</td>
<td> 删除列，约束，数据库，索引，表或视图</td>
</tr>
<tr>
<td> DROP COLUMN</td>
<td> 删除表中的列</td>
</tr>
<tr>
<td> DROP CONSTRAINT</td>
<td> 删除 UNIQUE，PRIMARY KEY，FOREIGN KEY 或 CHECK 约束</td>
</tr>
<tr>
<td> DROP DATABASE</td>
<td> 删除现有的 SQL 数据库</td>
</tr>
<tr>
<td> DROP DEFAULT</td>
<td> 删除默认约束</td>
</tr>
<tr>
<td> DROP INDEX</td>
<td> 删除表中的索引</td>
</tr>
<tr>
<td> DROP TABLE</td>
<td> 删除数据库中的现有表</td>
</tr>
<tr>
<td> DROP VIEW</td>
<td> 删除视图</td>
</tr>
<tr>
<td> EXEC</td>
<td> 执行存储过程</td>
</tr>
<tr>
<td> EXISTS</td>
<td> 测试子查询中是否存在任何记录</td>
</tr>
<tr>
<td> FOREIGN KEY</td>
<td> 约束是用于将两个表链接在一起的键</td>
</tr>
<tr>
<td> FROM</td>
<td> 指定要从中选择或删除数据的表</td>
</tr>
<tr>
<td> FULL OUTER JOIN</td>
<td> 当左表或右表中存在匹配项时，返回所有行</td>
</tr>
<tr>
<td> GROUP BY</td>
<td> 对结果集进行分组（与汇总函数一起使用：COUNT，MAX，MIN，SUM，AVG）</td>
</tr>
<tr>
<td>HAVING</td>
<td> 使用汇总功能代替 WHERE</td>
</tr>
<tr>
<td>IN</td>
<td> 允许您在 WHERE 子句中指定多个值</td>
</tr>
<tr>
<td> INDEX</td>
<td> 创建或删除表中的索引</td>
</tr>
<tr>
<td> INNER JOIN</td>
<td> 返回两个表中具有匹配值的行</td>
</tr>
<tr>
<td> INSERT INTO</td>
<td> 在表格中插入新行</td>
</tr>
<tr>
<td> INSERT INTO SELECT</td>
<td> 将数据从一个表复制到另一个表</td>
</tr>
<tr>
<td> IS NULL</td>
<td> 测试空值</td>
</tr>
<tr>
<td> IS NOT NULL</td>
<td> 测试非空值</td>
</tr>
<tr>
<td> JOIN</td>
<td> 联接表</td>
</tr>
<tr>
<td> LEFT JOIN</td>
<td> 返回左表中的所有行，以及右表中的匹配行</td>
</tr>
<tr>
<td> LIKE</td>
<td> 在列中搜索指定的模式</td>
</tr>
<tr>
<td> LIMIT</td>
<td> 指定要在结果集中返回的记录数</td>
</tr>
<tr>
<td> NOT</td>
<td> 仅包含条件不成立的行</td>
</tr>
<tr>
<td> NOT NULL</td>
<td> 强制列不接受 NULL 值的约束</td>
</tr>
<tr>
<td> OR</td>
<td> 包括其中任一条件为真的行</td>
</tr>
<tr>
<td> ORDER BY</td>
<td> 对结果集按升序或降序排序</td>
</tr>
<tr>
<td> OUTER JOIN</td>
<td> 当左表或右表中存在匹配项时，返回所有行</td>
</tr>
<tr>
<td> PRIMARY KEY</td>
<td> 唯一标识数据库表中每个记录的约束</td>
</tr>
<tr>
<td> PROCEDURE</td>
<td> 存储过程</td>
</tr>
<tr>
<td> RIGHT JOIN</td>
<td> 返回右表中的所有行，以及左表中的匹配行</td>
</tr>
<tr>
<td> ROWNUM</td>
<td> 指定要在结果集中返回的记录数</td>
</tr>
<tr>
<td> SELECT</td>
<td> 从数据库中选择数据</td>
</tr>
<tr>
<td> SELECT DISTINCT</td>
<td> 仅选择不同的（不同的）值</td>
</tr>
<tr>
<td> SELECT INTO</td>
<td> 将数据从一个表复制到新表中</td>
</tr>
<tr>
<td> SELECT TOP</td>
<td> 指定要在结果集中返回的记录数</td>
</tr>
<tr>
<td> SET</td>
<td> 指定表中应更新的列和值</td>
</tr>
<tr>
<td> TABLE</td>
<td> 创建表，或添加，删除或修改表中的列，或删除表或表中的数据</td>
</tr>
<tr>
<td> TOP</td>
<td> 指定要在结果集中返回的记录数</td>
</tr>
<tr>
<td> TRUNCATE TABLE</td>
<td> 删除表中的数据，但不删除表本身</td>
</tr>
<tr>
<td> UNION</td>
<td> 合并两个或多个 SELECT 语句的结果集（仅不同的值）</td>
</tr>
<tr>
<td>UNION ALL</td>
<td> 合并两个或多个 SELECT 语句的结果集（允许重复值）</td>
</tr>
<tr>
<td>UNIQUE</td>
<td> 确保列中所有值唯一的约束</td>
</tr>
<tr>
<td> UPDATE</td>
<td> 更新表中的现有行</td>
</tr>
<tr>
<td> VALUES</td>
<td> 指定 INSERT INTO 语句的值</td>
</tr>
<tr>
<td> VIEW</td>
<td> 创建，更新或删除视图</td>
</tr>
<tr>
<td> WHERE</td>
<td> 筛选结果集以仅包含满足指定条件的记录</td>
</tr>
</tbody>
</table>
<h4 id="语法规则"><a class="markdownIt-Anchor" href="#语法规则"></a> 语法规则</h4>
<ul>
<li>不区分大小写</li>
<li>以分号结尾</li>
</ul>
<h4 id="命名规则"><a class="markdownIt-Anchor" href="#命名规则"></a> 命名规则</h4>
<ul>
<li>不能是 SQL 关键字</li>
<li>只能使用英文字母、数字、下划线</li>
</ul>
<h3 id="数据类型"><a class="markdownIt-Anchor" href="#数据类型"></a> 数据类型</h3>
<ul>
<li>数字</li>
<li>字符串</li>
<li>日期时间</li>
<li>二进制</li>
</ul>
<h4 id="数字"><a class="markdownIt-Anchor" href="#数字"></a> 数字</h4>
<p>整数</p>
<ul>
<li>tinyint</li>
<li>smallint</li>
<li>mediumint</li>
<li>int / integer</li>
<li>bigint</li>
</ul>
<p>浮点数</p>
<ul>
<li>float</li>
<li>double</li>
</ul>
<p>定点数</p>
<ul>
<li>decimal (m,d) m 表示最多包含的有效数字个数（默认 10），d 表示有多少位小数（默认 0）</li>
</ul>
<h4 id="字符串"><a class="markdownIt-Anchor" href="#字符串"></a> 字符串</h4>
<ul>
<li>char</li>
<li>varchar</li>
<li>tinytext</li>
<li>text</li>
<li>mediumtext</li>
<li>longtext</li>
<li>enum</li>
</ul>
<h4 id="日期时间"><a class="markdownIt-Anchor" href="#日期时间"></a> 日期时间</h4>
<ul>
<li>date YYYY-MM-DD</li>
<li>time HH:MM:SS</li>
<li>datetime YYYY-MM-DD HH:MM:SS</li>
<li>year YYYY</li>
<li>timestamp YYYYMMDD HHMMSS</li>
</ul>
<h4 id="二进制"><a class="markdownIt-Anchor" href="#二进制"></a> 二进制</h4>
<ul>
<li>bit</li>
<li>tinyblob</li>
<li>blob</li>
<li>mediumblob</li>
<li>longblob</li>
</ul>
<h3 id="注释"><a class="markdownIt-Anchor" href="#注释"></a> 注释</h3>
<ul>
<li>– 注释内容</li>
<li> /*<br>
注释内容<br>
注释内容<br>
*/</li>
</ul>
<h2 id="查询操作"><a class="markdownIt-Anchor" href="#查询操作"></a> 查询操作</h2>
<h3 id="select"><a class="markdownIt-Anchor" href="#select"></a> select</h3>
<h4 id="select语句"><a class="markdownIt-Anchor" href="#select语句"></a> select 语句</h4>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> 列名 <span class="keyword">from</span> 列名</span><br></pre></td></tr></tbody></table></figure>
<p>select 语句子句</p>
<ul>
<li>select</li>
<li>from</li>
<li>where</li>
<li>group by</li>
<li>having</li>
<li>order by</li>
<li>limit</li>
</ul>
<p>例：</p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> name <span class="keyword">from</span> product;</span><br></pre></td></tr></tbody></table></figure>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> name, type, price <span class="keyword">from</span> product;</span><br></pre></td></tr></tbody></table></figure>
 <figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> product; <span class="comment">-- 查询速度慢，不推荐</span></span><br></pre></td></tr></tbody></table></figure>
<h4 id="特殊列名"><a class="markdownIt-Anchor" href="#特殊列名"></a> 特殊列名</h4>
<p>包含空格或者关键字，应该用<strong>反引号</strong>括起来，而不能用单引号或者双引号</p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> `product name` <span class="keyword">from</span> product;</span><br></pre></td></tr></tbody></table></figure>
<h4 id="换行说明"><a class="markdownIt-Anchor" href="#换行说明"></a> 换行说明</h4>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> name, type, price</span><br><span class="line"><span class="keyword">from</span> product;</span><br></pre></td></tr></tbody></table></figure>
<p>如果 SQL 语句比较短，可以只写一行；如果 SQL 语句比较长，以 “子句” 为单位进行换行</p>
<h3 id="使用别名as"><a class="markdownIt-Anchor" href="#使用别名as"></a> 使用别名：as</h3>
<h4 id="as关键字"><a class="markdownIt-Anchor" href="#as关键字"></a> as 关键字</h4>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> 列名 <span class="keyword">as</span> 别名</span><br><span class="line"><span class="keyword">from</span> 表名;</span><br></pre></td></tr></tbody></table></figure>
<p>使用</p>
<ul>
<li>列表名比较长或可读性差</li>
<li>使用内置函数</li>
<li>用于多表查询</li>
<li>需要把两个或更多的列放在一起</li>
</ul>
<p>例：</p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> name <span class="keyword">as</span> product_name</span><br><span class="line"><span class="keyword">from</span> product;</span><br></pre></td></tr></tbody></table></figure>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> name <span class="keyword">as</span> 名称</span><br><span class="line"><span class="keyword">from</span> product;</span><br></pre></td></tr></tbody></table></figure>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> name <span class="keyword">as</span> 名称,</span><br><span class="line">       type <span class="keyword">as</span> 类型,</span><br><span class="line">       price <span class="keyword">as</span> 售价</span><br><span class="line"><span class="keyword">from</span> product;</span><br></pre></td></tr></tbody></table></figure>
<p>如果包含空格则应用英文<strong>双引号</strong>括起来，而不应用单引号或反引号</p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> name <span class="keyword">as</span> "商品 名称"</span><br><span class="line"><span class="keyword">from</span> product;</span><br></pre></td></tr></tbody></table></figure>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> name <span class="keyword">as</span> "product-name"</span><br><span class="line"><span class="keyword">from</span> product;</span><br></pre></td></tr></tbody></table></figure>
<h3 id="条件子句where"><a class="markdownIt-Anchor" href="#条件子句where"></a> 条件子句：where</h3>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> 列名</span><br><span class="line"><span class="keyword">from</span> 表名</span><br><span class="line"><span class="keyword">where</span> 条件;</span><br></pre></td></tr></tbody></table></figure>
<p>一般结合以下运算符使用：</p>
<ul>
<li>比较运算符</li>
<li>逻辑运算符</li>
<li>其他运算符</li>
</ul>
<h4 id="比较运算符"><a class="markdownIt-Anchor" href="#比较运算符"></a> 比较运算符</h4>
<ul>
<li>&gt;</li>
<li>&lt;</li>
<li>=</li>
<li>&gt;=</li>
<li>&lt;=</li>
<li>!&gt;</li>
<li>!&lt;</li>
<li>!= / &lt;&gt;</li>
</ul>
<h4 id="逻辑运算符"><a class="markdownIt-Anchor" href="#逻辑运算符"></a> 逻辑运算符</h4>
<ul>
<li>and</li>
<li>or</li>
<li>not</li>
</ul>
<h4 id="其他运算符"><a class="markdownIt-Anchor" href="#其他运算符"></a> 其他运算符</h4>
<ul>
<li>is null / isnull</li>
<li>is not null</li>
<li>in</li>
<li>not in</li>
<li>between A and B</li>
<li>not between A and B</li>
</ul>
<h4 id="运算符优先级"><a class="markdownIt-Anchor" href="#运算符优先级"></a> 运算符优先级</h4>
<ul>
<li>*/ 高于 ±</li>
<li>not &gt; and &gt; or</li>
</ul>
<h3 id="排序子句order-by"><a class="markdownIt-Anchor" href="#排序子句order-by"></a> 排序子句：order by</h3>
<h4 id="order-by-子句"><a class="markdownIt-Anchor" href="#order-by-子句"></a> order by 子句</h4>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> 列名</span><br><span class="line"><span class="keyword">from</span> 表名</span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> 列名 <span class="keyword">asc</span> 或 <span class="keyword">desc</span>;</span><br></pre></td></tr></tbody></table></figure>
<p><em>asc 表示升序，desc 表示降序</em></p>
<h4 id="中文字符串字段排序"><a class="markdownIt-Anchor" href="#中文字符串字段排序"></a> 中文字符串字段排序</h4>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> <span class="keyword">convert</span>(列名 <span class="keyword">using</span> gbk);</span><br></pre></td></tr></tbody></table></figure>
<h3 id="限制行数limit"><a class="markdownIt-Anchor" href="#限制行数limit"></a> 限制行数：limit</h3>
<h4 id="limit-子句"><a class="markdownIt-Anchor" href="#limit-子句"></a> limit 子句</h4>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> 列名</span><br><span class="line"><span class="keyword">from</span> 表名</span><br><span class="line">limit n;</span><br></pre></td></tr></tbody></table></figure>
<p>获取前 n 行，必须放在最后</p>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line">limit <span class="keyword">start</span>, n</span><br></pre></td></tr></tbody></table></figure>
<p>start 表示开始位置</p>
<h3 id="去重处理distinct"><a class="markdownIt-Anchor" href="#去重处理distinct"></a> 去重处理：distinct</h3>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">distinct</span> 字段列表</span><br><span class="line"><span class="keyword">from</span> 表名;</span><br></pre></td></tr></tbody></table></figure>
<h2 id="数据统计"><a class="markdownIt-Anchor" href="#数据统计"></a> 数据统计</h2>
<h3 id="算术运算"><a class="markdownIt-Anchor" href="#算术运算"></a> 算术运算</h3>
<ul>
<li>+</li>
<li>-</li>
<li>*</li>
<li>/</li>
</ul>
<h3 id="聚合函数"><a class="markdownIt-Anchor" href="#聚合函数"></a> 聚合函数</h3>
<ul>
<li>sum()</li>
<li>avg()</li>
<li>max()</li>
<li>min()</li>
<li>count()</li>
</ul>
<p><strong>聚合函数一般用于 select 子句，而不能用于 where 子句</strong></p>
<h4 id="求和sum"><a class="markdownIt-Anchor" href="#求和sum"></a> 求和：sum ()</h4>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">sum</span>(列名)</span><br><span class="line"><span class="keyword">from</span> 表名;</span><br></pre></td></tr></tbody></table></figure>
<h4 id="求平均值avg"><a class="markdownIt-Anchor" href="#求平均值avg"></a> 求平均值：avg ()</h4>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">avg</span>(列名)</span><br><span class="line"><span class="keyword">from</span> 表名;</span><br></pre></td></tr></tbody></table></figure>
<h4 id="求最值max-和-min"><a class="markdownIt-Anchor" href="#求最值max-和-min"></a> 求最值：max () 和 min ()</h4>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">max</span>(列名)</span><br><span class="line"><span class="keyword">from</span> 表名;</span><br></pre></td></tr></tbody></table></figure>
<h4 id="获取行数count"><a class="markdownIt-Anchor" href="#获取行数count"></a> 获取行数：count ()</h4>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">count</span>(列名)</span><br><span class="line"><span class="keyword">from</span> 表名;</span><br></pre></td></tr></tbody></table></figure>
<h4 id="深入了解"><a class="markdownIt-Anchor" href="#深入了解"></a> 深入了解</h4>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line">函数名(类型 列名)</span><br></pre></td></tr></tbody></table></figure>
<p>类型取值有两种：all 和 distinct，默认值是 all</p>
<h4 id="特别注意"><a class="markdownIt-Anchor" href="#特别注意"></a> 特别注意</h4>
<ul>
<li><strong>聚合函数只能用于 select、order by、having 这 3 种子句，而不能用于 where、group by 等其他子句</strong></li>
<li><strong> sum (),avg (),max (),min () 这 4 个聚合函数，只适用于统计数字类型的列。如果制定列的类型不是数字类型，就可能会报错</strong></li>
</ul>
<h3 id="分组子句group-by"><a class="markdownIt-Anchor" href="#分组子句group-by"></a> 分组子句：group by</h3>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> 列名</span><br><span class="line"><span class="keyword">from</span> 表名</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> 列名;</span><br></pre></td></tr></tbody></table></figure>
<h3 id="指定条件having"><a class="markdownIt-Anchor" href="#指定条件having"></a> 指定条件：having</h3>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> 列名</span><br><span class="line"><span class="keyword">from</span> 表名</span><br><span class="line"><span class="keyword">where</span> 条件</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> 列名</span><br><span class="line"><span class="keyword">having</span> 条件;</span><br></pre></td></tr></tbody></table></figure>
<p>having 子句必须结合 group by 子句一起用，且必须写在 group by 子句后面</p>
<h3 id="子句顺序"><a class="markdownIt-Anchor" href="#子句顺序"></a> 子句顺序</h3>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> 列名</span><br><span class="line"><span class="keyword">from</span> 表名</span><br><span class="line"><span class="keyword">where</span> 条件</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> 列名</span><br><span class="line"><span class="keyword">having</span> 条件</span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> 列名</span><br><span class="line">limit n;</span><br></pre></td></tr></tbody></table></figure>
<h2 id="高级查询"><a class="markdownIt-Anchor" href="#高级查询"></a> 高级查询</h2>
<h3 id="模糊查询like"><a class="markdownIt-Anchor" href="#模糊查询like"></a> 模糊查询：like</h3>
<ul>
<li>%</li>
<li>_</li>
</ul>
<h4 id="通配符"><a class="markdownIt-Anchor" href="#通配符"></a> 通配符：%</h4>
<ul>
<li>where 列名 like ‘string%’</li>
<li>where 列名 like ‘% string’</li>
<li>where 列名 like ‘% string%’</li>
</ul>
<h4 id="通配符_"><a class="markdownIt-Anchor" href="#通配符_"></a> 通配符：_</h4>
<ul>
<li>where 列名 like ‘string_’</li>
<li>where 列名 like ‘_string’</li>
<li>where 列名 like ‘_string_’</li>
</ul>
<h3 id="随机查询rand"><a class="markdownIt-Anchor" href="#随机查询rand"></a> 随机查询：rand ()</h3>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> 列名</span><br><span class="line"><span class="keyword">from</span> 表名</span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> rand()</span><br><span class="line">limit n;</span><br></pre></td></tr></tbody></table></figure>
<h3 id="子查询"><a class="markdownIt-Anchor" href="#子查询"></a> 子查询</h3>
<p>在一条 select 语句中使用另一个 select 语句</p>
<ul>
<li>单值子查询</li>
<li>多值子查询</li>
<li>关键子查询</li>
</ul>
<h4 id="单值子查询"><a class="markdownIt-Anchor" href="#单值子查询"></a> 单值子查询</h4>
<p>作为子查询的 select 返回单个值</p>
<h4 id="多值子查询"><a class="markdownIt-Anchor" href="#多值子查询"></a> 多值子查询</h4>
<p>作为子查询的 select 返回多个值</p>
<ul>
<li>in</li>
<li>all</li>
<li>any / some</li>
</ul>
<h4 id="关联子查询"><a class="markdownIt-Anchor" href="#关联子查询"></a> 关联子查询</h4>
<p>例：</p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> name,type,price</span><br><span class="line"><span class="keyword">from</span> product <span class="keyword">as</span> e1</span><br><span class="line"><span class="keyword">where</span> price <span class="operator">&gt;</span> (</span><br><span class="line">  <span class="keyword">select</span> <span class="built_in">avg</span>(price)</span><br><span class="line">  <span class="keyword">from</span> product <span class="keyword">as</span> e2</span><br><span class="line">  <span class="keyword">where</span> e1.type <span class="operator">=</span> e2.type</span><br><span class="line">  <span class="keyword">group</span> <span class="keyword">by</span> type</span><br><span class="line">);</span><br></pre></td></tr></tbody></table></figure>
<h2 id="内置函数"><a class="markdownIt-Anchor" href="#内置函数"></a> 内置函数</h2>
<h3 id="内置函数简介"><a class="markdownIt-Anchor" href="#内置函数简介"></a> 内置函数简介</h3>
<ul>
<li>聚合函数</li>
<li>数学函数</li>
<li>字符串函数</li>
<li>时间函数</li>
<li>排名函数</li>
<li>加密函数</li>
<li>系统函数</li>
<li>其他函数</li>
</ul>
<h3 id="数学函数"><a class="markdownIt-Anchor" href="#数学函数"></a> 数学函数</h3>
<ul>
<li>abs (列名)</li>
<li>mod (被除数，除数)</li>
<li>round (列名，n)</li>
<li>truncate (列名，n)</li>
<li>sign (列名)</li>
<li>pi()</li>
<li>rand()</li>
<li>ceil (列名)</li>
<li>floor (列名)</li>
</ul>
<h3 id="字符串函数"><a class="markdownIt-Anchor" href="#字符串函数"></a> 字符串函数</h3>
<ul>
<li>length (列名)</li>
<li>trim (列名)</li>
<li>reverse (列名)</li>
<li>repeat (列名，n)</li>
<li>replace (列名，A, B) – 将 A 替换成 B</li>
<li>substring (列名，start, length)</li>
<li>left (列名，n)</li>
<li>right (列名，n)</li>
<li>concat (列名 1, 列名 2, …, 列名 n)</li>
<li>lower (列名)</li>
<li>upper (列名)</li>
<li>lpad (列名，length, str)</li>
<li>rpad (列名，length, str)</li>
</ul>
<h3 id="时间函数"><a class="markdownIt-Anchor" href="#时间函数"></a> 时间函数</h3>
<ul>
<li>curdate()</li>
<li>curtime()</li>
<li>now()</li>
<li>year (列名)</li>
<li>month (列名)</li>
<li>monthname (列名)</li>
<li>dayofweek (列名)</li>
<li>dayname (列名)</li>
<li>dayofmonth (列名)</li>
<li>dayofyear (列名)</li>
<li>quarter (列名)</li>
</ul>
<h3 id="排名函数"><a class="markdownIt-Anchor" href="#排名函数"></a> 排名函数</h3>
<ul>
<li>rank()</li>
<li>row_number()</li>
<li>dense_rank()</li>
</ul>
<h4 id="rank"><a class="markdownIt-Anchor" href="#rank"></a> rank()</h4>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">rank</span>() <span class="keyword">over</span>(</span><br><span class="line">  <span class="keyword">partition</span> <span class="keyword">by</span> 列名</span><br><span class="line">  <span class="keyword">order</span> <span class="keyword">by</span> 列名 <span class="keyword">asc</span> 或 <span class="keyword">desc</span></span><br><span class="line">)</span><br></pre></td></tr></tbody></table></figure>
<p>partition by 是对某一列进行分组</p>
<h4 id="row_number"><a class="markdownIt-Anchor" href="#row_number"></a> row_number()</h4>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">row_number</span>() <span class="keyword">over</span>(</span><br><span class="line">  <span class="keyword">partition</span> <span class="keyword">by</span> 列名</span><br><span class="line">  <span class="keyword">order</span> <span class="keyword">by</span> 列名 <span class="keyword">asc</span> 或 <span class="keyword">desc</span></span><br><span class="line">)</span><br></pre></td></tr></tbody></table></figure>
<h4 id="dense_rank"><a class="markdownIt-Anchor" href="#dense_rank"></a> dense_rank()</h4>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">dense_rank</span>() <span class="keyword">over</span>(</span><br><span class="line">  <span class="keyword">partition</span> <span class="keyword">by</span> 列名</span><br><span class="line">  <span class="keyword">order</span> <span class="keyword">by</span> 列名 <span class="keyword">asc</span> 或 <span class="keyword">desc</span></span><br><span class="line">)</span><br></pre></td></tr></tbody></table></figure>
<h3 id="加密函数"><a class="markdownIt-Anchor" href="#加密函数"></a> 加密函数</h3>
<h4 id="md5"><a class="markdownIt-Anchor" href="#md5"></a> md5()</h4>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line">md5(列名)</span><br></pre></td></tr></tbody></table></figure>
<h4 id="sha1"><a class="markdownIt-Anchor" href="#sha1"></a> sha1()</h4>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line">sha1(列名)</span><br></pre></td></tr></tbody></table></figure>
<h3 id="系统函数"><a class="markdownIt-Anchor" href="#系统函数"></a> 系统函数</h3>
<ul>
<li>database()</li>
<li>version()</li>
<li>user()</li>
<li>connection_id()</li>
</ul>
<h3 id="其他函数"><a class="markdownIt-Anchor" href="#其他函数"></a> 其他函数</h3>
<ul>
<li>cast()</li>
<li>if()</li>
<li>ifnull()</li>
</ul>
<h4 id="cast"><a class="markdownIt-Anchor" href="#cast"></a> cast()</h4>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">cast</span>(列名 <span class="keyword">as</span> type)</span><br></pre></td></tr></tbody></table></figure>
<h4 id="if"><a class="markdownIt-Anchor" href="#if"></a> if()</h4>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line">if(条件, 值<span class="number">1</span>, 值<span class="number">2</span>)</span><br></pre></td></tr></tbody></table></figure>
<h4 id="ifnull"><a class="markdownIt-Anchor" href="#ifnull"></a> ifnull()</h4>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line">ifnull(列名, 新值)</span><br></pre></td></tr></tbody></table></figure>
<h2 id="数据修改"><a class="markdownIt-Anchor" href="#数据修改"></a> 数据修改</h2>
<h3 id="数据修改简介"><a class="markdownIt-Anchor" href="#数据修改简介"></a> 数据修改简介</h3>
<ul>
<li>insert</li>
<li>delete</li>
<li>update</li>
</ul>
<h3 id="插入数据insert"><a class="markdownIt-Anchor" href="#插入数据insert"></a> 插入数据：insert</h3>
<h4 id="insert语句"><a class="markdownIt-Anchor" href="#insert语句"></a> insert 语句</h4>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> 表名(列名<span class="number">1</span>, 列名<span class="number">2</span>, ..., 列名n)</span><br><span class="line"><span class="keyword">values</span> (值<span class="number">1</span>, 值<span class="number">2</span>, ..., 值n);</span><br></pre></td></tr></tbody></table></figure>
<h4 id="特殊情况"><a class="markdownIt-Anchor" href="#特殊情况"></a> 特殊情况</h4>
<ul>
<li>顺序不一致</li>
<li>插入部分字段</li>
</ul>
<h4 id="replace语句"><a class="markdownIt-Anchor" href="#replace语句"></a> replace 语句</h4>
<p>只有 MySQL 可以使用</p>
<h3 id="更新数据update"><a class="markdownIt-Anchor" href="#更新数据update"></a> 更新数据：update</h3>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">update</span> 表名</span><br><span class="line"><span class="keyword">set</span> 列名 <span class="operator">=</span> 值;</span><br></pre></td></tr></tbody></table></figure>
<h3 id="删除数据delete"><a class="markdownIt-Anchor" href="#删除数据delete"></a> 删除数据：delete</h3>
<h4 id="delete语句"><a class="markdownIt-Anchor" href="#delete语句"></a> delete 语句</h4>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> 表名</span><br><span class="line"><span class="keyword">where</span> 条件;</span><br></pre></td></tr></tbody></table></figure>
<h4 id="深入了解-2"><a class="markdownIt-Anchor" href="#深入了解-2"></a> 深入了解</h4>
<p>一次性删除所有：</p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> employee;</span><br></pre></td></tr></tbody></table></figure>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">truncate</span> <span class="keyword">table</span> employee;</span><br></pre></td></tr></tbody></table></figure>
<p>几点区别：</p>
<ul>
<li>delete 语句属于 DML 语句，而 truncate table 语句属于 DDL 语句</li>
<li> delete 语句后面可以使用 where 子句来指定条件，从而实现删除部分数据。而 truncate table 语句只能删除所有数据</li>
<li> delete 语句是逐行进行删除的，并且每删除一行就在日志里记录一次。而 truncate table 语句则是一次性删除所有行，它不记录日志，只记录整个数据页的释放操作。所以 truncate<br>
table 语句的速度更快，性能更好，并且使用的系统和事务日志资源更少</li>
<li>使用 delete 语句删除数据之后，再次往表中添加记录时，自增字段的值为删除时该字段的最大值加 1。使用 truncate table 语句删除数据之后，再次往表中添加记录时，自增字段的默认值被重置为 1</li>
</ul>
<h2 id="表的操作"><a class="markdownIt-Anchor" href="#表的操作"></a> 表的操作</h2>
<h3 id="表的操作简介"><a class="markdownIt-Anchor" href="#表的操作简介"></a> 表的操作简介</h3>
<ul>
<li>create table</li>
<li>drop table</li>
<li>alter table</li>
</ul>
<h3 id="库操作"><a class="markdownIt-Anchor" href="#库操作"></a> 库操作</h3>
<ul>
<li>创建库</li>
<li>查看库</li>
<li>修改库</li>
<li>删除库</li>
</ul>
<h4 id="创建库"><a class="markdownIt-Anchor" href="#创建库"></a> 创建库</h4>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> database 库名;</span><br></pre></td></tr></tbody></table></figure>
<h4 id="查看库"><a class="markdownIt-Anchor" href="#查看库"></a> 查看库</h4>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">show</span> databases;</span><br></pre></td></tr></tbody></table></figure>
<h4 id="修改库"><a class="markdownIt-Anchor" href="#修改库"></a> 修改库</h4>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">alter</span> database 库名</span><br><span class="line"><span class="keyword">default</span> <span class="type">character</span> <span class="keyword">set</span> <span class="operator">=</span> 字符集名</span><br><span class="line"><span class="keyword">default</span> <span class="keyword">collate</span> <span class="operator">=</span> 校对规则名;</span><br></pre></td></tr></tbody></table></figure>
<h4 id="删除库"><a class="markdownIt-Anchor" href="#删除库"></a> 删除库</h4>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">drop</span> database 库名;</span><br></pre></td></tr></tbody></table></figure>
<h3 id="创建表"><a class="markdownIt-Anchor" href="#创建表"></a> 创建表</h3>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> 表名</span><br><span class="line">(</span><br><span class="line">  列名<span class="number">1</span> 数据类型 列属性,</span><br><span class="line">  列名<span class="number">2</span> 数据类型 列属性,</span><br><span class="line">  ...,</span><br><span class="line">  列名n 数据类型 列属性,</span><br><span class="line">);</span><br></pre></td></tr></tbody></table></figure>
<p>列的属性：</p>
<ul>
<li>default</li>
<li>not null</li>
<li>auto-increment</li>
<li>check</li>
<li>unique</li>
<li>primary key</li>
<li>foreign key</li>
<li>comment</li>
</ul>
<h3 id="查看表"><a class="markdownIt-Anchor" href="#查看表"></a> 查看表</h3>
<ul>
<li>show tables</li>
<li>show create table</li>
<li>describe</li>
</ul>
<h4 id="show-tables-语句"><a class="markdownIt-Anchor" href="#show-tables-语句"></a> show tables 语句</h4>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">show</span> tables;</span><br></pre></td></tr></tbody></table></figure>
<h4 id="show-create-table-语句"><a class="markdownIt-Anchor" href="#show-create-table-语句"></a> show create table 语句</h4>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">show</span> <span class="keyword">create</span> <span class="keyword">table</span> 表名;</span><br></pre></td></tr></tbody></table></figure>
<h4 id="describe-语句"><a class="markdownIt-Anchor" href="#describe-语句"></a> describe 语句</h4>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">describe</span> 表名;</span><br></pre></td></tr></tbody></table></figure>
<h3 id="修改表名"><a class="markdownIt-Anchor" href="#修改表名"></a> 修改表名</h3>
<h4 id="修改表名-2"><a class="markdownIt-Anchor" href="#修改表名-2"></a> 修改表名</h4>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> 旧表名</span><br><span class="line">rename <span class="keyword">to</span> 新表名;</span><br></pre></td></tr></tbody></table></figure>
<h4 id="修改字段"><a class="markdownIt-Anchor" href="#修改字段"></a> 修改字段</h4>
<ul>
<li>添加列<br>
<em>语法 </em></li>
</ul>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> 表名</span><br><span class="line"><span class="keyword">add</span> 列名 数据类型;</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>删除列<br>
<em>语法 </em></li>
</ul>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> 表名</span><br><span class="line"><span class="keyword">drop</span> 列名;</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>修改列名<br>
<em>语法 </em></li>
</ul>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> 表名</span><br><span class="line">change 原列名 新列名 新数据类型;</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>修改数据类型<br>
<em>语法 </em></li>
</ul>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> 表名</span><br><span class="line">modify 列名 新数据类型;</span><br></pre></td></tr></tbody></table></figure>
<h3 id="复制表"><a class="markdownIt-Anchor" href="#复制表"></a> 复制表</h3>
<h4 id="只复制结构"><a class="markdownIt-Anchor" href="#只复制结构"></a> 只复制结构</h4>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> 新表名</span><br><span class="line"><span class="keyword">like</span> 旧表名;</span><br></pre></td></tr></tbody></table></figure>
<h4 id="同时复制结构和数据"><a class="markdownIt-Anchor" href="#同时复制结构和数据"></a> 同时复制结构和数据</h4>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> 新表名</span><br><span class="line"><span class="keyword">as</span> (<span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> product);</span><br></pre></td></tr></tbody></table></figure>
<h3 id="删除表"><a class="markdownIt-Anchor" href="#删除表"></a> 删除表</h3>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> 表名;</span><br></pre></td></tr></tbody></table></figure>
<h2 id="列的属性"><a class="markdownIt-Anchor" href="#列的属性"></a> 列的属性</h2>
<h3 id="列的属性简介"><a class="markdownIt-Anchor" href="#列的属性简介"></a> 列的属性简介</h3>
<ul>
<li>default</li>
<li>not null</li>
<li>auto-increment</li>
<li>check</li>
<li>unique</li>
<li>primary key</li>
<li>foreign key</li>
<li>comment</li>
</ul>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> 表名</span><br><span class="line">(</span><br><span class="line">  列名<span class="number">1</span> 数据类型 列属性,</span><br><span class="line">  列名<span class="number">2</span> 数据类型 列属性,</span><br><span class="line">  ...,</span><br><span class="line">  列名n 数据类型 列属性,</span><br><span class="line">);</span><br></pre></td></tr></tbody></table></figure>
<h3 id="默认值"><a class="markdownIt-Anchor" href="#默认值"></a> 默认值</h3>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line">列名 数据类型 <span class="keyword">default</span> 默认值</span><br></pre></td></tr></tbody></table></figure>
<h3 id="非空"><a class="markdownIt-Anchor" href="#非空"></a> 非空</h3>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line">列名 数据类型 <span class="keyword">not</span> <span class="keyword">null</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="自动递增"><a class="markdownIt-Anchor" href="#自动递增"></a> 自动递增</h3>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line">列名 数据类型 auto_increment</span><br></pre></td></tr></tbody></table></figure>
<h3 id="条件检查"><a class="markdownIt-Anchor" href="#条件检查"></a> 条件检查</h3>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line">列名 数据类型 <span class="keyword">check</span>(表达式)</span><br></pre></td></tr></tbody></table></figure>
<h3 id="唯一键"><a class="markdownIt-Anchor" href="#唯一键"></a> 唯一键</h3>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line">列名 数据类型 <span class="keyword">unique</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="主键"><a class="markdownIt-Anchor" href="#主键"></a> 主键</h3>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line">列名 数据类型 <span class="keyword">primary</span> key</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>具有唯一性</li>
<li>不允许为空</li>
</ul>
<p>主键和唯一键的区别</p>
<ul>
<li>主键的值不能为 NULL，而唯一键的值可以为 NULL</li>
<li> 一个表只能有一个主键，但可以有多个唯一键</li>
<li>主键可以作为外键，但是唯一键不可以</li>
</ul>
<h3 id="外键"><a class="markdownIt-Anchor" href="#外键"></a> 外键</h3>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">constraint</span> 外键名 <span class="keyword">foreign</span> key(子表的列名) <span class="keyword">references</span> 父表名(父表的列名)</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>一般用父表的主键作为子表的外键</li>
<li>插入数据时，必须先插入父表，然后才能插入子表</li>
<li>删除表时，先删除子表，然后才能删除父表</li>
</ul>
<h3 id="注释-2"><a class="markdownIt-Anchor" href="#注释-2"></a> 注释</h3>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line">列名 数据类型 comment <span class="string">'注释内容'</span></span><br></pre></td></tr></tbody></table></figure>
<p>注释是一个字符串，需要用单引号括起来</p>
<h3 id="操作已有表"><a class="markdownIt-Anchor" href="#操作已有表"></a> 操作已有表</h3>
<ul>
<li>约束型属性</li>
<li>其他属性</li>
</ul>
<h4 id="约束型属性"><a class="markdownIt-Anchor" href="#约束型属性"></a> 约束型属性</h4>
<ul>
<li>条件检查</li>
<li>唯一键</li>
<li>主键</li>
<li>外键 </li>
</ul>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">-- 添加属性</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> 表名</span><br><span class="line"><span class="keyword">add</span> <span class="keyword">constraint</span> 标识名</span><br><span class="line">属性;</span><br><span class="line"><span class="comment">-- 删除属性</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> 表名</span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">constraint</span> 标识名;</span><br></pre></td></tr></tbody></table></figure>
<h4 id="其他属性"><a class="markdownIt-Anchor" href="#其他属性"></a> 其他属性</h4>
<ul>
<li>默认值</li>
<li>非空</li>
<li>自动递增</li>
<li>注释</li>
</ul>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> 表名</span><br><span class="line">modify 列名 数据类型 属性;</span><br></pre></td></tr></tbody></table></figure>
<h2 id="多表查询"><a class="markdownIt-Anchor" href="#多表查询"></a> 多表查询</h2>
<h3 id="多表查询简介"><a class="markdownIt-Anchor" href="#多表查询简介"></a> 多表查询简介</h3>
<p>表与表的关系</p>
<ul>
<li>一对一</li>
<li>一对多</li>
<li>多对多</li>
</ul>
<p>多表查询的方式</p>
<ul>
<li>联合查询</li>
<li>内连接</li>
<li>外连接</li>
<li>笛卡尔积连接</li>
</ul>
<h3 id="集合运算"><a class="markdownIt-Anchor" href="#集合运算"></a> 集合运算</h3>
<ul>
<li>并集</li>
<li>交集</li>
<li>差集</li>
</ul>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">-- 并集</span></span><br><span class="line"><span class="keyword">select</span> 列名 <span class="keyword">from</span> 表A</span><br><span class="line"><span class="keyword">union</span></span><br><span class="line"><span class="keyword">select</span> 列名 <span class="keyword">from</span> 表B</span><br></pre></td></tr></tbody></table></figure>
<h3 id="内连接"><a class="markdownIt-Anchor" href="#内连接"></a> 内连接</h3>
<h4 id="基本语法"><a class="markdownIt-Anchor" href="#基本语法"></a> 基本语法</h4>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> 列名</span><br><span class="line"><span class="keyword">from</span> 表A</span><br><span class="line"><span class="keyword">inner</span> <span class="keyword">join</span> 表B</span><br><span class="line"><span class="keyword">on</span> 表A.列名  <span class="operator">=</span> 表B.列名；</span><br></pre></td></tr></tbody></table></figure>
<p>在多表连接中，不管在什么子句中，所有列名前面都应该加上一个表名</p>
<h4 id="深入了解-3"><a class="markdownIt-Anchor" href="#深入了解-3"></a> 深入了解</h4>
<ul>
<li>
<p>单表查询<br>
对于单表查询来说，列名前面的表名前缀是可以省略的</p>
</li>
<li>
<p>using (列名)<br>
on staff.sid = market.sid 等价于 using (sid)</p>
</li>
<li>
<p>连接多个表<br>
<em>语法</em></p>
</li>
</ul>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> 列名</span><br><span class="line"><span class="keyword">from</span> 表A</span><br><span class="line"><span class="keyword">inner</span> <span class="keyword">join</span> 表B <span class="keyword">on</span> 连接条件</span><br><span class="line"><span class="keyword">inner</span> <span class="keyword">join</span> 表C <span class="keyword">on</span> 连接条件</span><br><span class="line">...</span><br><span class="line">;</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>查询条件<br>
内连接的查询条件不一定要使用 "="，还可以使用非等值连接</li>
</ul>
<h3 id="外连接"><a class="markdownIt-Anchor" href="#外连接"></a> 外连接</h3>
<h4 id="外连接是什么"><a class="markdownIt-Anchor" href="#外连接是什么"></a> 外连接是什么</h4>
<ul>
<li>左外连接：根据左表提取结果</li>
<li>右外连接：根据右表提取结果</li>
<li>完全外连接：同时对左表和右表提取结果</li>
</ul>
<h4 id="左外连接"><a class="markdownIt-Anchor" href="#左外连接"></a> 左外连接</h4>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> 列名</span><br><span class="line"><span class="keyword">from</span> 表A</span><br><span class="line"><span class="keyword">left</span> <span class="keyword">outer</span> <span class="keyword">join</span> 表B</span><br><span class="line"><span class="keyword">on</span> 表A.列名  <span class="operator">=</span> 表B.列名；</span><br></pre></td></tr></tbody></table></figure>
<h4 id="右外连接"><a class="markdownIt-Anchor" href="#右外连接"></a> 右外连接</h4>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> 列名</span><br><span class="line"><span class="keyword">from</span> 表A</span><br><span class="line"><span class="keyword">right</span> <span class="keyword">outer</span> <span class="keyword">join</span> 表B</span><br><span class="line"><span class="keyword">on</span> 表A.列名  <span class="operator">=</span> 表B.列名；</span><br></pre></td></tr></tbody></table></figure>
<h4 id="完全外连接"><a class="markdownIt-Anchor" href="#完全外连接"></a> 完全外连接</h4>
<p>首先获取左外连接的结果，然后获取右外连接的结果，最后使用 union 求并集即可</p>
<h3 id="笛卡尔积连接"><a class="markdownIt-Anchor" href="#笛卡尔积连接"></a> 笛卡尔积连接</h3>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> 列名</span><br><span class="line"><span class="keyword">from</span> 表名<span class="number">1</span>, 表名<span class="number">2</span>;</span><br></pre></td></tr></tbody></table></figure>
<h2 id="视图"><a class="markdownIt-Anchor" href="#视图"></a> 视图</h2>
<h3 id="创建视图"><a class="markdownIt-Anchor" href="#创建视图"></a> 创建视图</h3>
<h4 id="视图简介"><a class="markdownIt-Anchor" href="#视图简介"></a> 视图简介</h4>
<p>表保存的是实际的数据，而视图保存的是一条 select 语句，本身并不存储数据<br>
<em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">view</span> 视图名</span><br><span class="line"><span class="keyword">as</span> <span class="keyword">select</span> 语句;</span><br></pre></td></tr></tbody></table></figure>
<h4 id="修改数据"><a class="markdownIt-Anchor" href="#修改数据"></a> 修改数据</h4>
<ul>
<li>更新数据<br>
<em>语法 </em></li>
</ul>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">update</span> 视图名</span><br><span class="line"><span class="keyword">set</span> 列表 <span class="operator">=</span> 新值;</span><br></pre></td></tr></tbody></table></figure>
<p>视图和原表共享一份数据</p>
<ul>
<li>
<p>插入数据<br>
往视图中插入数据时，即使不符合 where 条件，数据也会被直接插入原表中</p>
</li>
<li>
<p>删除数据</p>
</li>
</ul>
<p>以下几种情况的视图不允许修改数据</p>
<ul>
<li>包含聚合函数的视图</li>
<li>包含子查询的视图</li>
<li>包含 distinct, group by, having, union 等的视图</li>
<li>由不可更新的视图所创建的视图</li>
</ul>
<h3 id="查看视图"><a class="markdownIt-Anchor" href="#查看视图"></a> 查看视图</h3>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">-- 方式1</span></span><br><span class="line"><span class="keyword">describe</span> 视图名;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 方式2</span></span><br><span class="line"><span class="keyword">show</span> <span class="keyword">table</span> status <span class="keyword">like</span> <span class="string">'视图名'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 方式3</span></span><br><span class="line"><span class="keyword">show</span> <span class="keyword">create</span> <span class="keyword">view</span> 视图名;</span><br></pre></td></tr></tbody></table></figure>
<h3 id="修改视图"><a class="markdownIt-Anchor" href="#修改视图"></a> 修改视图</h3>
<h4 id="alter-view"><a class="markdownIt-Anchor" href="#alter-view"></a> alter view</h4>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">view</span> 视图名</span><br><span class="line"><span class="keyword">as</span> <span class="keyword">select</span> 语句;</span><br></pre></td></tr></tbody></table></figure>
<h4 id="create-or-replace-view"><a class="markdownIt-Anchor" href="#create-or-replace-view"></a> create or replace view</h4>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">or</span> replace <span class="keyword">view</span> 视图名</span><br><span class="line"><span class="keyword">as</span> <span class="keyword">select</span> 语句;</span><br></pre></td></tr></tbody></table></figure>
<h3 id="删除视图"><a class="markdownIt-Anchor" href="#删除视图"></a> 删除视图</h3>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">view</span> 视图;</span><br></pre></td></tr></tbody></table></figure>
<h3 id="多表视图"><a class="markdownIt-Anchor" href="#多表视图"></a> 多表视图</h3>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">view</span> 视图名</span><br><span class="line"><span class="keyword">as</span> <span class="keyword">select</span> 语句;</span><br></pre></td></tr></tbody></table></figure>
<h2 id="索引"><a class="markdownIt-Anchor" href="#索引"></a> 索引</h2>
<h3 id="索引简介"><a class="markdownIt-Anchor" href="#索引简介"></a> 索引简介</h3>
<p>索引是建立在数据表中列上的一个数据库对象，在一个表中可以给一列或者多列设置索引<br>
使用索引查询的时间复杂度为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi> O</mi><mo stretchy="false">(</mo><mi>l</mi><mi>o</mi><msubsup><mi>g</mi><mn>2</mn><mi>n</mi></msubsup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(log_2^n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-2.4518920000000004em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.24810799999999997em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></p>
<h3 id="创建索引"><a class="markdownIt-Anchor" href="#创建索引"></a> 创建索引</h3>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> index 索引名</span><br><span class="line"><span class="keyword">on</span> 表名(列名);</span><br></pre></td></tr></tbody></table></figure>
<h3 id="查看索引"><a class="markdownIt-Anchor" href="#查看索引"></a> 查看索引</h3>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">show</span> index <span class="keyword">from</span> 表名;</span><br></pre></td></tr></tbody></table></figure>
<h3 id="删除索引"><a class="markdownIt-Anchor" href="#删除索引"></a> 删除索引</h3>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">drop</span> index 索引</span><br><span class="line"><span class="keyword">on</span> 表名;</span><br></pre></td></tr></tbody></table></figure>
<h2 id="存储程序"><a class="markdownIt-Anchor" href="#存储程序"></a> 存储程序</h2>
<h3 id="存储程序简介"><a class="markdownIt-Anchor" href="#存储程序简介"></a> 存储程序简介</h3>
<ul>
<li>存储例程</li>
<li>
<ul>
<li>存储过程</li>
</ul>
</li>
<li>
<ul>
<li>存储函数</li>
</ul>
</li>
<li>触发器</li>
<li>事件</li>
</ul>
<h3 id="存储过程"><a class="markdownIt-Anchor" href="#存储过程"></a> 存储过程</h3>
<ul>
<li>创建存储过程</li>
<li>查看存储过程</li>
<li>修改存储过程</li>
<li>删除存储过程</li>
</ul>
<h4 id="创建存储过程"><a class="markdownIt-Anchor" href="#创建存储过程"></a> 创建存储过程</h4>
<ul>
<li>不带参数的存储过程<br>
<em>语法 </em></li>
</ul>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">procedure</span> 存储过程名()</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">    ...</span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></tbody></table></figure>
<p>调用<br>
<em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">call</span> 存储过程名;</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>带参数的存储过程<br>
<em>语法 </em></li>
</ul>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">procedure</span> 存储过程名(参数<span class="number">1</span> 类型<span class="number">1</span>, 参数<span class="number">2</span> 类型<span class="number">2</span>, ..., 参数n 类型 n)</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">    ...</span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>参数前缀<br>
in(default)<br>
out<br>
inout</li>
</ul>
<h4 id="查看存储过程"><a class="markdownIt-Anchor" href="#查看存储过程"></a> 查看存储过程</h4>
<ul>
<li>show procedure status like<br>
<em>语法 </em></li>
</ul>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">show</span> <span class="keyword">procedure</span> status <span class="keyword">like</span> <span class="string">'存储过程名'</span>;</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>show create procedure<br>
<em>语法 </em></li>
</ul>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">show</span> <span class="keyword">create</span> <span class="keyword">procedure</span> 存储过程名();</span><br></pre></td></tr></tbody></table></figure>
<h4 id="修改存储过程"><a class="markdownIt-Anchor" href="#修改存储过程"></a> 修改存储过程</h4>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">procedure</span> 存储过程名()</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">    ...</span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></tbody></table></figure>
<h4 id="删除存储过程"><a class="markdownIt-Anchor" href="#删除存储过程"></a> 删除存储过程</h4>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">procedure</span> 存储过程名;</span><br></pre></td></tr></tbody></table></figure>
<h3 id="存储函数"><a class="markdownIt-Anchor" href="#存储函数"></a> 存储函数</h3>
<ul>
<li>创建存储函数</li>
<li>查看存储函数</li>
<li>修改存储函数</li>
<li>删除存储函数</li>
<li>变量的定义</li>
<li>常用的语句</li>
</ul>
<h4 id="创建存储函数"><a class="markdownIt-Anchor" href="#创建存储函数"></a> 创建存储函数</h4>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">function</span> 存储函数名(参数<span class="number">1</span> 类型<span class="number">1</span>, 参数<span class="number">2</span> 类型<span class="number">2</span>, ..., 参数n 类型n) <span class="keyword">returns</span> 返回值类型</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">    ...</span><br><span class="line">    <span class="keyword">return</span> 返回值;</span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></tbody></table></figure>
<h4 id="查看存储函数"><a class="markdownIt-Anchor" href="#查看存储函数"></a> 查看存储函数</h4>
<ul>
<li>show function status like<br>
<em>语法 </em></li>
</ul>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">show</span> <span class="keyword">function</span> status <span class="keyword">like</span> <span class="string">'存储函数名'</span>;</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>show create function<br>
<em>语法 </em></li>
</ul>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">show</span> <span class="keyword">create</span> <span class="keyword">function</span> 存储函数名();</span><br></pre></td></tr></tbody></table></figure>
<h4 id="修改存储函数"><a class="markdownIt-Anchor" href="#修改存储函数"></a> 修改存储函数</h4>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">function</span> 存储函数名()</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">    ...</span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></tbody></table></figure>
<h4 id="删除存储函数"><a class="markdownIt-Anchor" href="#删除存储函数"></a> 删除存储函数</h4>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">function</span> 存储函数名;</span><br></pre></td></tr></tbody></table></figure>
<h4 id="变量的定义"><a class="markdownIt-Anchor" href="#变量的定义"></a> 变量的定义</h4>
<ul>
<li>全局变量<br>
<em>语法 </em></li>
</ul>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">set</span> @变量名 <span class="operator">=</span> 值;</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>局部变量<br>
<em>语法 </em></li>
</ul>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">-- 声明变量</span></span><br><span class="line"><span class="keyword">declare</span> 变量名 类型;</span><br><span class="line"><span class="comment">-- 初始化值</span></span><br><span class="line"><span class="keyword">set</span> 变量名 <span class="operator">=</span> 值;</span><br></pre></td></tr></tbody></table></figure>
<h4 id="常用的语句"><a class="markdownIt-Anchor" href="#常用的语句"></a> 常用的语句</h4>
<ul>
<li>判断语句<br>
<em>语法 </em></li>
</ul>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line">if 判断条件 <span class="keyword">then</span></span><br><span class="line">    ...</span><br><span class="line">elseif 判断条件 <span class="keyword">then</span></span><br><span class="line">    ...</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    语句列表</span><br><span class="line"><span class="keyword">end</span> if;</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>循环语句<br>
<em>语法 </em></li>
</ul>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">-- while语句</span></span><br><span class="line">while 判断条件 do</span><br><span class="line">    ...</span><br><span class="line"><span class="keyword">end</span> while;</span><br><span class="line"><span class="comment">-- repeat语句</span></span><br><span class="line">repeat</span><br><span class="line">    ...</span><br><span class="line">until 表达式 <span class="keyword">end</span> repeat;</span><br><span class="line"><span class="comment">-- loop语句</span></span><br><span class="line">loop</span><br><span class="line">    ...</span><br><span class="line"><span class="keyword">end</span> loop;</span><br></pre></td></tr></tbody></table></figure>
<h3 id="触发器"><a class="markdownIt-Anchor" href="#触发器"></a> 触发器</h3>
<h4 id="创建触发器"><a class="markdownIt-Anchor" href="#创建触发器"></a> 创建触发器</h4>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">trigger</span> 触发器名 before<span class="operator">/</span>after 操作名</span><br><span class="line"><span class="keyword">on</span> 表名 <span class="keyword">for</span> <span class="keyword">each</span> <span class="type">row</span></span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">    ...</span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></tbody></table></figure>
<h4 id="查看触发器"><a class="markdownIt-Anchor" href="#查看触发器"></a> 查看触发器</h4>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">show</span> triggers;</span><br></pre></td></tr></tbody></table></figure>
<h4 id="删除触发器"><a class="markdownIt-Anchor" href="#删除触发器"></a> 删除触发器</h4>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">trigger</span> 触发器名;</span><br></pre></td></tr></tbody></table></figure>
<h3 id="事件"><a class="markdownIt-Anchor" href="#事件"></a> 事件</h3>
<h4 id="创建事件"><a class="markdownIt-Anchor" href="#创建事件"></a> 创建事件</h4>
<ul>
<li>在某个时间点执行<br>
<em>语法 </em></li>
</ul>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> event 事件名</span><br><span class="line"><span class="keyword">on</span> schedule <span class="keyword">at</span> 某个时间点</span><br><span class="line">do</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">    ...</span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>每隔一段时间执行<br>
<em>语法 </em></li>
</ul>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> event 事件名</span><br><span class="line"><span class="keyword">on</span> schedule <span class="keyword">every</span> 事件间隔</span><br><span class="line">do</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">    ...</span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></tbody></table></figure>
<h4 id="查看事件"><a class="markdownIt-Anchor" href="#查看事件"></a> 查看事件</h4>
<ul>
<li>show events<br>
<em>语法 </em></li>
</ul>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">show</span> events</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>show create event<br>
<em>语法 </em></li>
</ul>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">show</span> <span class="keyword">create</span> event 事件名;</span><br></pre></td></tr></tbody></table></figure>
<h4 id="修改事件"><a class="markdownIt-Anchor" href="#修改事件"></a> 修改事件</h4>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">alter</span> event 事件名</span><br><span class="line">...;</span><br></pre></td></tr></tbody></table></figure>
<h4 id="删除事件"><a class="markdownIt-Anchor" href="#删除事件"></a> 删除事件</h4>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">drop</span> event 事件名;</span><br></pre></td></tr></tbody></table></figure>
<h2 id="游标"><a class="markdownIt-Anchor" href="#游标"></a> 游标</h2>
<h3 id="创建游标"><a class="markdownIt-Anchor" href="#创建游标"></a> 创建游标</h3>
<ul>
<li>创建游标</li>
<li>打开游标</li>
<li>获取数据</li>
<li>关闭游标</li>
</ul>
<p><em>语法</em></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">-- 创建游标</span></span><br><span class="line"><span class="keyword">declare</span> 游标名 <span class="keyword">cursor</span> <span class="keyword">for</span> 查询语句;</span><br><span class="line"><span class="comment">-- 打开游标</span></span><br><span class="line"><span class="keyword">open</span> 游标名</span><br><span class="line"><span class="comment">-- 获取数据</span></span><br><span class="line"><span class="keyword">fetch</span> 游标名 <span class="keyword">into</span> 变量<span class="number">1</span>, 变量<span class="number">2</span>, ..., 变量n;</span><br><span class="line"><span class="comment">-- 关闭游标</span></span><br><span class="line"><span class="keyword">close</span> 游标名;</span><br></pre></td></tr></tbody></table></figure>]]></content>
      <categories>
        <category>CS</category>
        <category>Database</category>
      </categories>
      <tags>
        <tag>database</tag>
        <tag>SQL</tag>
      </tags>
  </entry>
  <entry>
    <title>通过 Python 实现的数据可视化</title>
    <url>/posts/b9b527cc.html</url>
    <content><![CDATA[<p>数据可视化，是关于数据视觉表现形式的科学技术研究。其中，这种数据的视觉表现形式被定义为，一种以某种概要形式抽提出来的信息，包括相应信息单位的各种属性和变量。</p>
<span id="more"></span>
<h2 id="一-利用matplotlib库实现数据可视化"><a class="markdownIt-Anchor" href="#一-利用matplotlib库实现数据可视化"></a> 一、利用 Matplotlib 库实现数据可视化</h2>
<h3 id="1-matplotlib库的安装"><a class="markdownIt-Anchor" href="#1-matplotlib库的安装"></a> 1、Matplotlib 库的安装</h3>
<p>Windows+R，输入 cmd 启动 CMD 命令提示符控制器，输入指令<br>
<code>python pip -m install user_matplotlib</code><br>
如果提示错误可考虑使用国内镜像<br>
<code>python pip install -i https://mirrors.aliyun.com/pypi/simple/ matplotlib</code><br>
提示安装成功</p>
<blockquote>
<p><em>Successfully installed pip-22.3.1</em></p>
</blockquote>
<h3 id="2-利用matplotlib实现绘制简单的图表"><a class="markdownIt-Anchor" href="#2-利用matplotlib实现绘制简单的图表"></a> 2、利用 matplotlib 实现绘制简单的图表</h3>
<p>简单代码及注释如下</p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">x_values = <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">1001</span>)  <span class="comment"># X轴的值</span></span><br><span class="line">y_values = [x ** <span class="number">2</span> <span class="keyword">for</span> x <span class="keyword">in</span> x_values]  <span class="comment"># Y轴的值</span></span><br><span class="line">fig, ax = plt.subplots()  <span class="comment"># fig画布，ax子图区域</span></span><br><span class="line">ax.scatter(x_values, y_values, s=<span class="number">10</span>, c=y_values, cmap=plt.cm.Greens)  <span class="comment"># 绘制散点图</span></span><br><span class="line">ax.grid(<span class="literal">True</span>)  <span class="comment"># 打开网格</span></span><br><span class="line">ax.grid(color=<span class="string">'gray'</span>, ls=<span class="string">'-.'</span>, lw=<span class="number">0.25</span>)  <span class="comment"># 设置网格颜色，线型，线宽</span></span><br><span class="line">ax.set_title(<span class="string">"Squares"</span>, fontsize=<span class="number">25</span>)  <span class="comment"># 设置图表标题</span></span><br><span class="line">ax.set_xlabel(<span class="string">"value"</span>, fontsize=<span class="number">15</span>)  <span class="comment"># 设置X轴标签</span></span><br><span class="line">ax.set_ylabel(<span class="string">"square value"</span>, fontsize=<span class="number">15</span>)  <span class="comment"># 设置Y轴标签</span></span><br><span class="line">ax.tick_params(axis=<span class="string">'both'</span>, labelsize=<span class="number">15</span>)  <span class="comment"># 设置刻度标签大小</span></span><br><span class="line">ax.axis([<span class="number">0</span>, <span class="number">1100</span>, <span class="number">0</span>, <span class="number">1100000</span>])  <span class="comment"># 设置X轴坐标为0-1100，Y轴坐标为0-11000000</span></span><br><span class="line">plt.savefig(<span class="string">'squares_plt.png'</span>)  <span class="comment"># 保存图片并将其命名为"squares_plt.png"</span></span><br><span class="line">plt.show()  <span class="comment"># 展示图表</span></span><br></pre></td></tr></tbody></table></figure>
<hr>
<p>效果图如下<br>
<img data-src="https://s1.ax1x.com/2023/06/20/pC84Kwn.png" alt="简单的图表"></p>
<hr>
<p>简单代码解释<br>
1. 用 import 引入 matplotlib.pyplot 库并简写为 plt<br>
2. 设定 X 轴数据与 Y 轴数据<br>
3. 创建 fig 画布，ax 子图区域<br>
4. 利用 scatter () 方法绘制散点图并着色，本例中设置为依照 Y 值大小渐变绿色<br>
5. 打开并设置网格<br>
6. 设置图表标题，设置 X 轴与 Y 轴标签<br>
7. 设置 X 轴与 Y 轴坐标数据范围<br>
8. 保存图片并展示图表</p>
<blockquote>
<p>ps:<code>plt.savefig('squares_plt.png')</code> 一定要写在 <code>plt.show()</code> 前面，否则只会保存空白图片<br>
其原理是 <code>plt.show()</code> 执行完毕后会生成一张新的空白图表导致 <code>plt.savefig('squares_plt.png')</code> 保存的是这张新的空白图表</p>
</blockquote>
<h2 id="二-导入csv文件中的数据并且进行更加复杂的数据可视化"><a class="markdownIt-Anchor" href="#二-导入csv文件中的数据并且进行更加复杂的数据可视化"></a> 二、导入 csv 文件中的数据并且进行更加复杂的数据可视化</h2>
<h3 id="1-通过csv文件记录数据"><a class="markdownIt-Anchor" href="#1-通过csv文件记录数据"></a> 1、通过 csv 文件记录数据</h3>
<p>在 excel 中记录如下数据</p>
<table>
<thead>
<tr>
<th style="text-align:center">时间</th>
<th style="text-align:center">最高温</th>
<th style="text-align:center">最低温</th>
<th style="text-align:center">天气</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"> 2022-11-22</td>
<td style="text-align:center">17</td>
<td style="text-align:center">12</td>
<td style="text-align:center"> 小雨</td>
</tr>
<tr>
<td style="text-align:center"> 2022-11-23</td>
<td style="text-align:center">16</td>
<td style="text-align:center">11</td>
<td style="text-align:center"> 多云</td>
</tr>
<tr>
<td style="text-align:center"> 2022-11-24</td>
<td style="text-align:center">19</td>
<td style="text-align:center">11</td>
<td style="text-align:center"> 多云</td>
</tr>
<tr>
<td style="text-align:center"> 2022-11-25</td>
<td style="text-align:center">18</td>
<td style="text-align:center">10</td>
<td style="text-align:center"> 阴</td>
</tr>
<tr>
<td style="text-align:center"> 2022-11-26</td>
<td style="text-align:center">19</td>
<td style="text-align:center">10</td>
<td style="text-align:center"> 多云</td>
</tr>
<tr>
<td style="text-align:center"> 2022-11-27</td>
<td style="text-align:center">21</td>
<td style="text-align:center">14</td>
<td style="text-align:center"> 多云</td>
</tr>
<tr>
<td style="text-align:center"> 2022-11-28</td>
<td style="text-align:center">23</td>
<td style="text-align:center">15</td>
<td style="text-align:center"> 小雨</td>
</tr>
<tr>
<td style="text-align:center"> 2022-11-29</td>
<td style="text-align:center">17</td>
<td style="text-align:center">3</td>
<td style="text-align:center"> 中雨</td>
</tr>
<tr>
<td style="text-align:center"> 2022-11-30</td>
<td style="text-align:center">2</td>
<td style="text-align:center">-1</td>
<td style="text-align:center"> 阴</td>
</tr>
<tr>
<td style="text-align:center"> 2022-12-01</td>
<td style="text-align:center">3</td>
<td style="text-align:center">-2</td>
<td style="text-align:center"> 阴</td>
</tr>
<tr>
<td style="text-align:center"> 2022-12-02</td>
<td style="text-align:center">7</td>
<td style="text-align:center">0</td>
<td style="text-align:center"> 晴</td>
</tr>
<tr>
<td style="text-align:center"> 2022-12-03</td>
<td style="text-align:center">7</td>
<td style="text-align:center">5</td>
<td style="text-align:center"> 小雨</td>
</tr>
<tr>
<td style="text-align:center"> 2022-12-04</td>
<td style="text-align:center">7</td>
<td style="text-align:center">2</td>
<td style="text-align:center"> 小雨</td>
</tr>
<tr>
<td style="text-align:center"> 2022-12-05</td>
<td style="text-align:center">6</td>
<td style="text-align:center">0</td>
<td style="text-align:center"> 晴</td>
</tr>
<tr>
<td style="text-align:center"> 2022-12-06</td>
<td style="text-align:center">9</td>
<td style="text-align:center">1</td>
<td style="text-align:center"> 阴</td>
</tr>
<tr>
<td style="text-align:center"> 2022-12-07</td>
<td style="text-align:center">7</td>
<td style="text-align:center">6</td>
<td style="text-align:center"> 小雨</td>
</tr>
</tbody>
</table>
<p>点击 “文件”=&gt;“另存为”=&gt;“选择位置”=&gt;“保存类型”=&gt;“CSV UTF-8 (逗号分隔)(*.csv)”=&gt;“保存” 即可保存此文件</p>
<h3 id="2打开csv文件读取数据并进行可视化"><a class="markdownIt-Anchor" href="#2打开csv文件读取数据并进行可视化"></a> 2. 打开 csv 文件读取数据并进行可视化</h3>
<p>本例中以 11 月 23 日 10 时通过《天气》app 获取的栖霞区近期天气情况为数据绘制相关图表</p>
<p>具体代码如下</p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> csv</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime</span><br><span class="line"></span><br><span class="line">plt.rcParams[<span class="string">'font.sans-serif'</span>] = [<span class="string">'SimHei'</span>]</span><br><span class="line">plt.rcParams[<span class="string">'axes.unicode_minus'</span>] = <span class="literal">False</span></span><br><span class="line">x = []</span><br><span class="line">y1 = []</span><br><span class="line">y2 = []</span><br><span class="line">weather = []</span><br><span class="line">kind = [<span class="string">"晴"</span>, <span class="string">"多云"</span>, <span class="string">"阴"</span>, <span class="string">"小雨"</span>, <span class="string">"中雨"</span>]</span><br><span class="line">s = [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>]</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">"weather.csv"</span>, <span class="string">'r'</span>, encoding=<span class="string">'UTF-8'</span>) <span class="keyword">as</span> csvfile:  <span class="comment"># 打开csv文件</span></span><br><span class="line">    reader = csv.reader(csvfile, delimiter=<span class="string">','</span>)  <span class="comment"># 读取csv文件</span></span><br><span class="line">    header = <span class="built_in">next</span>(reader)  <span class="comment"># 跳过第一行</span></span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> reader:</span><br><span class="line">        currentDate = datetime.strptime(row[<span class="number">0</span>], <span class="string">"%Y-%m-%d"</span>)  <span class="comment"># 按格式读取时间</span></span><br><span class="line">        x.append(currentDate)</span><br><span class="line">        y1.append(<span class="built_in">int</span>(row[<span class="number">1</span>]))</span><br><span class="line">        y2.append(<span class="built_in">int</span>(row[<span class="number">2</span>]))</span><br><span class="line">        weather.append(row[<span class="number">3</span>])</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> weather:</span><br><span class="line">    <span class="keyword">if</span> i == <span class="string">"晴"</span>:</span><br><span class="line">        s[<span class="number">0</span>] = s[<span class="number">0</span>] + <span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span> i == <span class="string">"多云"</span>:</span><br><span class="line">        s[<span class="number">1</span>] = s[<span class="number">1</span>] + <span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span> i == <span class="string">"阴"</span>:</span><br><span class="line">        s[<span class="number">2</span>] = s[<span class="number">2</span>] + <span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span> i == <span class="string">"小雨"</span>:</span><br><span class="line">        s[<span class="number">3</span>] = s[<span class="number">3</span>] + <span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span> i == <span class="string">"中雨"</span>:</span><br><span class="line">        s[<span class="number">4</span>] = s[<span class="number">4</span>] + <span class="number">1</span></span><br><span class="line"><span class="built_in">print</span>(s)</span><br><span class="line">fig, ax = plt.subplots()  <span class="comment"># fig画布，ax子图区域</span></span><br><span class="line">ax.grid(<span class="literal">True</span>)  <span class="comment"># 打开网格</span></span><br><span class="line">ax.grid(color=<span class="string">'gray'</span>, ls=<span class="string">'-.'</span>, lw=<span class="number">0.25</span>)  <span class="comment"># 设置网格颜色，线型，线宽</span></span><br><span class="line">plt.plot(x, y1, label=<span class="string">'最高温'</span>, c=<span class="string">'pink'</span>, zorder=<span class="number">1</span>)  <span class="comment"># 绘制折线图</span></span><br><span class="line">plt.plot(x, y2, label=<span class="string">'最低温'</span>, c=<span class="string">'orange'</span>, zorder=<span class="number">1</span>)  <span class="comment"># 绘制折线图</span></span><br><span class="line">plt.scatter(x, y1, marker=<span class="string">'*'</span>, c=y1, cmap=<span class="string">'autumn_r'</span>, zorder=<span class="number">2</span>)  <span class="comment"># 绘制散点图作为折点标注</span></span><br><span class="line">plt.scatter(x, y2, marker=<span class="string">'o'</span>, c=y2, cmap=<span class="string">'coolwarm'</span>, zorder=<span class="number">2</span>)  <span class="comment"># 绘制散点图作为折点标注</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(x)):</span><br><span class="line">    ax.text(x[i], y1[i], (y1[i]), c=<span class="string">'steelblue'</span>, fontsize=<span class="number">12</span>)  <span class="comment"># 标注各点温度</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(x)):</span><br><span class="line">    ax.text(x[i], y2[i], (y2[i]), c=<span class="string">'green'</span>, fontsize=<span class="number">12</span>)  <span class="comment"># 标注各点温度</span></span><br><span class="line">plt.title(<span class="string">"栖霞区近日天气（数据获取时间：11月23日10时）"</span>, fontsize=<span class="number">14</span>)</span><br><span class="line">ax.set_xlabel(<span class="string">"日期"</span>, fontsize=<span class="number">10</span>)</span><br><span class="line">ax.set_ylabel(<span class="string">"温度"</span>, fontsize=<span class="number">10</span>)</span><br><span class="line">fig.autofmt_xdate(rotation=<span class="number">45</span>)  <span class="comment"># 为了防止时间过长导致重叠而将其旋转45°</span></span><br><span class="line">plt.legend()</span><br><span class="line">plt.savefig(<span class="string">'栖霞区近日天气.png'</span>)</span><br><span class="line">plt.show()</span><br><span class="line">fig, ax = plt.subplots()  <span class="comment"># fig画布，ax子图区域</span></span><br><span class="line">plt.pie(s, labels=kind, autopct=<span class="string">"%1.2f%%"</span>, explode=[<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.1</span>, <span class="number">0</span>])  <span class="comment"># 非零值的饼脱离整个图</span></span><br><span class="line">plt.title(<span class="string">"栖霞区近日天气"</span>, fontsize=<span class="number">24</span>)</span><br><span class="line">plt.savefig(<span class="string">'栖霞区近日天气饼图.png'</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></tbody></table></figure>
<hr>
<h3 id="效果图"><a class="markdownIt-Anchor" href="#效果图"></a> 效果图</h3>
<h2 id="栖霞区天气折线图"><a class="markdownIt-Anchor" href="#栖霞区天气折线图"></a> <img data-src="https://s1.ax1x.com/2023/06/20/pC84SLd.png" alt="栖霞区天气折线图"></h2>
<p><img data-src="https://s1.ax1x.com/2023/06/20/pC84VSS.png" alt="栖霞区天气饼状图"></p>
<h2 id="三-使用python进行数据可视化的优势分析"><a class="markdownIt-Anchor" href="#三-使用python进行数据可视化的优势分析"></a> 三、使用 Python 进行数据可视化的优势分析</h2>
<h3 id="1简单易上手"><a class="markdownIt-Anchor" href="#1简单易上手"></a> 1. 简单易上手</h3>
<p>Python 语法简单的多，代码十分容易被读写，适合刚入门的新手学习。我们在处理数据的时候，一般都希望数据能够转化成可运算的数字形式，这样，不管是没学过编程的人还是学过编程的人都能够看懂这个数据。</p>
<h3 id="2python在数据分析和交互-探索性计算以及数据可视化等方面都显得比较活跃"><a class="markdownIt-Anchor" href="#2python在数据分析和交互-探索性计算以及数据可视化等方面都显得比较活跃"></a> 2.Python 在数据分析和交互、探索性计算以及数据可视化等方面都显得比较活跃</h3>
<p>python 拥有 numpy、matplotlib、scikit-learn、pandas、ipython 等工具在科学计算方面十分有优势，尤其是 pandas，在处理中型数据方面可以说有着无与伦比的优势，已经成为数据分析中流砥柱的分析工具。</p>
<h3 id="3编程能力强大"><a class="markdownIt-Anchor" href="#3编程能力强大"></a> 3. 编程能力强大</h3>
<p>python 有些非常强大的数据分析能力，并且还可以利用 Python 进行爬虫，写游戏，以及自动化运维，在这些领域中有着很广泛的应用，这些优点就使得一种技术去解决所有的业务服务问题，这就充分的体现的 Python 有利于各个业务之间的融合。如果使用 Python，能够大大的提高数据分析的效率。</p>
<h3 id="4人工智能"><a class="markdownIt-Anchor" href="#4人工智能"></a> 4. 人工智能</h3>
<p>人工智能需要的是即时性，而 Python 是一种非常简洁的语言，同时有着丰富的数据库以及活跃的社区，这样就能够轻松的提取数据，从而为人工智能做出优质的服务。</p>
<blockquote>
<p>Python 语言得益于它的简单方便使得在大数据、数据分析以及人工智能方面都有十分明显的存在感，对于数据分析从业者以及想要进入数据分析从业者的人来说，简单易学容易上手的优势也是一个优势，要做好数据分析，一定要学会 Python 语言。</p>
</blockquote>
]]></content>
      <categories>
        <category>CS</category>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>数据可视化</tag>
        <tag>matplotlib</tag>
      </tags>
  </entry>
  <entry>
    <title>(力扣) 3. 无重复字符的最长子串</title>
    <url>/posts/fd252f35.html</url>
    <content><![CDATA[<blockquote>
<h2 id="题目描述"><a class="markdownIt-Anchor" href="#题目描述"></a> 题目描述</h2>
<p>给定一个字符串 <code>s</code> ，请你找出其中不含有重复字符的 <strong>最长子串</strong> 的长度。</p>
<span id="more"></span>
<p><strong>示例 1:</strong></p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">输入: s = "abcabcbb"</span><br><span class="line">输出: 3 </span><br><span class="line">解释: 因为无重复字符的最长子串是 "abc"，所以其长度为 3。</span><br></pre></td></tr></tbody></table></figure>
<p><strong>示例 2:</strong></p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">输入: s = "bbbbb"</span><br><span class="line">输出: 1</span><br><span class="line">解释: 因为无重复字符的最长子串是 "b"，所以其长度为 1。</span><br></pre></td></tr></tbody></table></figure>
<p><strong>示例 3:</strong></p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">输入: s = "pwwkew"</span><br><span class="line">输出: 3</span><br><span class="line">解释: 因为无重复字符的最长子串是 "wke"，所以其长度为 3。</span><br><span class="line">     请注意，你的答案必须是 子串 的长度，"pwke" 是一个子序列，不是子串。</span><br></pre></td></tr></tbody></table></figure>
<p><strong>提示：</strong></p>
<ul>
<li><code>0 &lt;= s.length &lt;= 5 * 104</code></li>
<li><code>s</code> 由英文字母、数字、符号和空格组成</li>
</ul>
</blockquote>
<h2 id="解题思路"><a class="markdownIt-Anchor" href="#解题思路"></a> 解题思路</h2>
<p>定义<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi> s</mi><mi>t</mi><mi>a</mi><mi>r</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">start</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61508em;vertical-align:0em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">t</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">t</span></span></span></span> 和<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi> n</mi><mi>o</mi><mi>w</mi></mrow><annotation encoding="application/x-tex">now</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span></span></span></span> 指针，然后遍历 s 的每一个字符，若该字符不在<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi> s</mi><mi>u</mi><mi>b</mi><mi>s</mi><mi>t</mi><mi>r</mi></mrow><annotation encoding="application/x-tex">substr</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">u</span><span class="mord mathnormal">b</span><span class="mord mathnormal">s</span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span> 集合里，则插入，否则计数变量<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi> n</mi><mi>u</mi><mi>m</mi></mrow><annotation encoding="application/x-tex">num</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span><span class="mord mathnormal">u</span><span class="mord mathnormal">m</span></span></span></span> 归零，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mi>t</mi><mi>a</mi><mi>r</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">start</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61508em;vertical-align:0em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">t</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">t</span></span></span></span> 指针指向下一个点，清除<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi> s</mi><mi>u</mi><mi>b</mi><mi>s</mi><mi>t</mi><mi>r</mi></mrow><annotation encoding="application/x-tex">substr</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">u</span><span class="mord mathnormal">b</span><span class="mord mathnormal">s</span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span> 集合并且将<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi> n</mi><mi>o</mi><mi>w</mi></mrow><annotation encoding="application/x-tex">now</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span></span></span></span> 指针移动回<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi> s</mi><mi>t</mi><mi>a</mi><mi>r</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">start</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61508em;vertical-align:0em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">t</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">t</span></span></span></span>，知道<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi> n</mi><mi>o</mi><mi>w</mi></mrow><annotation encoding="application/x-tex">now</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span></span></span></span> 移动到最后。</p>
<h2 id="代码实现"><a class="markdownIt-Anchor" href="#代码实现"></a> 代码实现</h2>
<figure class="highlight cpp"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> {</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">lengthOfLongestSubstring</span><span class="params">(string s)</span> </span>{</span><br><span class="line">        <span class="type">int</span> now = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> start = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> num = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> maxNum = <span class="number">0</span>;</span><br><span class="line">        unordered_set&lt;<span class="type">char</span>&gt; substr;</span><br><span class="line">        <span class="keyword">while</span>(now != s.<span class="built_in">length</span>())</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">if</span>(substr.<span class="built_in">count</span>(s[now]) == <span class="number">0</span>)</span><br><span class="line">            {</span><br><span class="line">                substr.<span class="built_in">insert</span>(s[now]);</span><br><span class="line">                num ++;</span><br><span class="line">                now++;</span><br><span class="line">                <span class="keyword">if</span>(num &gt; maxNum)</span><br><span class="line">                {</span><br><span class="line">                    maxNum = num;</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            {</span><br><span class="line">                num = <span class="number">0</span>;</span><br><span class="line">                start ++;</span><br><span class="line">                now = start;</span><br><span class="line">                substr.<span class="built_in">clear</span>();</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> maxNum;</span><br><span class="line">    }</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure>
<h2 id="高级版"><a class="markdownIt-Anchor" href="#高级版"></a> 高级版</h2>
<p><em>该解法来源于题目评论区</em></p>
<figure class="highlight cpp"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> {</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">lengthOfLongestSubstring</span><span class="params">(string s)</span> </span>{</span><br><span class="line">        <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">m</span><span class="params">(<span class="number">128</span>, <span class="number">0</span>)</span></span>;<span class="comment">//这个容器为了存当遇到相同的字符(假设是a)时i应该变成的值，即前面那个a的下一个字符</span></span><br><span class="line">        <span class="type">int</span> ans = <span class="number">0</span>;<span class="comment">//最终的子串长度</span></span><br><span class="line">        <span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; s.<span class="built_in">size</span>(); j++)</span><br><span class="line">        {</span><br><span class="line">            i = <span class="built_in">max</span>(i, m[s[j]]);<span class="comment">//如果遇到了相同的字符(假设为a)，此时m[s[j]]会又去到同样的存储单元m[a的ASCII码值]，因为之前遇到a时已经将这个位置的值改成前面那个a的下一个位置了，所以m[s[j]]大于i，将i更新</span></span><br><span class="line">            m[s[j]] = j + <span class="number">1</span>;<span class="comment">//更新这个位置的值，当下次再遇到该字母时，将i调整到该字母下一个位置的地方</span></span><br><span class="line">            ans = <span class="built_in">max</span>(ans, j - i + <span class="number">1</span>);<span class="comment">//更新最终结果值，即没相同字母的子串的字符个数</span></span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    }</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure>]]></content>
      <categories>
        <category>CS</category>
        <category>algorithm</category>
      </categories>
      <tags>
        <tag>CS</tag>
        <tag>C++</tag>
        <tag>algorithm</tag>
        <tag>two pointers</tag>
      </tags>
  </entry>
  <entry>
    <title>(力扣) 35. 搜索插入位置</title>
    <url>/posts/916fb84.html</url>
    <content><![CDATA[<blockquote>
<h2 id="题目描述"><a class="markdownIt-Anchor" href="#题目描述"></a> 题目描述</h2>
<p>给定一个排序数组和一个目标值，在数组中找到目标值，并返回其索引。如果目标值不存在于数组中，返回它将会被按顺序插入的位置。</p>
<p>请必须使用时间复杂度为 <code>O(log n)</code> 的算法。</p>
<span id="more"></span>
<p><strong>示例 1:</strong></p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">输入: nums = [1,3,5,6], target = 5</span><br><span class="line">输出: 2</span><br></pre></td></tr></tbody></table></figure>
<p><strong>示例 2:</strong></p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">输入: nums = [1,3,5,6], target = 2</span><br><span class="line">输出: 1</span><br></pre></td></tr></tbody></table></figure>
<p><strong>示例 3:</strong></p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">输入: nums = [1,3,5,6], target = 7</span><br><span class="line">输出: 4</span><br></pre></td></tr></tbody></table></figure>
<p><strong>提示:</strong></p>
<ul>
<li><code>1 &lt;= nums.length &lt;= 104</code></li>
<li><code>-104 &lt;= nums[i] &lt;= 104</code></li>
<li><code>nums</code> 为 <strong>无重复元素</strong> 的 <strong>升序</strong> 排列数组</li>
<li><code>-104 &lt;= target &lt;= 104</code></li>
</ul>
</blockquote>
<h2 id="解题思路"><a class="markdownIt-Anchor" href="#解题思路"></a> 解题思路</h2>
<p>定义左右两个指针<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi> l</mi><mi>e</mi><mi>f</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">left</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">e</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal">t</span></span></span></span> 和<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi> r</mi><mi>i</mi><mi>g</mi><mi>h</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">right</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">h</span><span class="mord mathnormal">t</span></span></span></span>，分别指向数组的开头和结尾。定义指针<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi> m</mi><mi>i</mi><mi>d</mi><mo>=</mo><mo stretchy="false">(</mo><mi>l</mi><mi>e</mi><mi>f</mi><mi>t</mi><mo>+</mo><mi>r</mi><mi>i</mi><mi>g</mi><mi>h</mi><mi>t</mi><mo stretchy="false">)</mo><mi mathvariant="normal">/</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">mid = (left + right)/2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">m</span><span class="mord mathnormal">i</span><span class="mord mathnormal">d</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">e</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">h</span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mord">/</span><span class="mord">2</span></span></span></span>，其指向<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi> l</mi><mi>e</mi><mi>f</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">left</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">e</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal">t</span></span></span></span> 和<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi> r</mi><mi>i</mi><mi>g</mi><mi>h</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">right</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">h</span><span class="mord mathnormal">t</span></span></span></span> 所指向区间中间的数字（向下取整）。如果该数字小于<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi> t</mi><mi>a</mi><mi>r</mi><mi>g</mi><mi>e</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">target</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.80952em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">t</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">e</span><span class="mord mathnormal">t</span></span></span></span>，则<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi> t</mi><mi>a</mi><mi>r</mi><mi>g</mi><mi>e</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">target</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.80952em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">t</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">e</span><span class="mord mathnormal">t</span></span></span></span> 在该数字右边，将<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi> l</mi><mi>e</mi><mi>f</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">left</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">e</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal">t</span></span></span></span> 移动到的<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi> m</mi><mi>i</mi><mi>d</mi></mrow><annotation encoding="application/x-tex">mid</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">m</span><span class="mord mathnormal">i</span><span class="mord mathnormal">d</span></span></span></span> 右边；如果该数字大于<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi> t</mi><mi>a</mi><mi>r</mi><mi>g</mi><mi>e</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">target</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.80952em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">t</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">e</span><span class="mord mathnormal">t</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi><mi>a</mi><mi>r</mi><mi>g</mi><mi>e</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">target</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.80952em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">t</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">e</span><span class="mord mathnormal">t</span></span></span></span> 在该数字的左边，将<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi> r</mi><mi>i</mi><mi>g</mi><mi>h</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">right</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">h</span><span class="mord mathnormal">t</span></span></span></span> 移动到<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi> m</mi><mi>i</mi><mi>d</mi></mrow><annotation encoding="application/x-tex">mid</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">m</span><span class="mord mathnormal">i</span><span class="mord mathnormal">d</span></span></span></span> 的左边；如果该数字等于<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi> t</mi><mi>a</mi><mi>r</mi><mi>g</mi><mi>e</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">target</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.80952em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">t</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">e</span><span class="mord mathnormal">t</span></span></span></span>，则返回<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi> m</mi><mi>i</mi><mi>d</mi></mrow><annotation encoding="application/x-tex">mid</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">m</span><span class="mord mathnormal">i</span><span class="mord mathnormal">d</span></span></span></span> 的值，即<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi> t</mi><mi>a</mi><mi>r</mi><mi>g</mi><mi>e</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">target</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.80952em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">t</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">e</span><span class="mord mathnormal">t</span></span></span></span> 所在的下标。当<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi> l</mi><mi>e</mi><mi>f</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">left</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">e</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal">t</span></span></span></span> 大于<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi> r</mi><mi>i</mi><mi>g</mi><mi>h</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">right</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">h</span><span class="mord mathnormal">t</span></span></span></span> 时，表示没有在数组中找到<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi> t</mi><mi>a</mi><mi>r</mi><mi>g</mi><mi>e</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">target</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.80952em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">t</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">e</span><span class="mord mathnormal">t</span></span></span></span>，于是返回<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi> l</mi><mi>e</mi><mi>f</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">left</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">e</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal">t</span></span></span></span> 的值，该值表示<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi> t</mi><mi>a</mi><mi>r</mi><mi>g</mi><mi>e</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">target</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.80952em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">t</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">e</span><span class="mord mathnormal">t</span></span></span></span> 应该插入的位置。</p>
<h2 id="代码实现"><a class="markdownIt-Anchor" href="#代码实现"></a> 代码实现</h2>
<figure class="highlight cpp"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> {</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">searchInsert</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> target)</span> </span>{</span><br><span class="line">        <span class="type">int</span> left = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> right = nums.<span class="built_in">size</span>() - <span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> mid;</span><br><span class="line">        <span class="keyword">while</span>(left &lt;= right)</span><br><span class="line">        {</span><br><span class="line">            mid = (left + right)/<span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span>(nums[mid] &lt; target)</span><br><span class="line">            {</span><br><span class="line">                left = mid + <span class="number">1</span>;</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(nums[mid] &gt; target)</span><br><span class="line">            {</span><br><span class="line">                right = mid - <span class="number">1</span>;</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            {</span><br><span class="line">                <span class="keyword">return</span> mid;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> left;</span><br><span class="line">    }</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure>]]></content>
      <categories>
        <category>CS</category>
        <category>algorithm</category>
      </categories>
      <tags>
        <tag>C++</tag>
        <tag>algorithm</tag>
        <tag>binary search</tag>
      </tags>
  </entry>
  <entry>
    <title>(力扣) 7. 整数反转</title>
    <url>/posts/18ee3081.html</url>
    <content><![CDATA[<blockquote>
<h2 id="题目描述"><a class="markdownIt-Anchor" href="#题目描述"></a> 题目描述</h2>
<p>给你一个 32 位的有符号整数 <code>x</code> ，返回将 <code>x</code> 中的数字部分反转后的结果。</p>
<p>如果反转后整数超过 32 位的有符号整数的范围<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false"> [</mo><mtext>−</mtext><msup><mn>2</mn><mn>31</mn></msup><mo separator="true">,</mo><msup><mn>2</mn><mn>31</mn></msup><mtext>−</mtext><mn>1</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[−2^{31}, 2^{31} − 1]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">−</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mord">−</span><span class="mord">1</span><span class="mclose">]</span></span></span></span>，就返回 0。</p>
<span id="more"></span>
<p><strong>假设环境不允许存储 64 位整数（有符号或无符号）。</strong></p>
<p><strong>示例 1：</strong></p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">输入：x = 123</span><br><span class="line">输出：321</span><br></pre></td></tr></tbody></table></figure>
<p><strong>示例 2：</strong></p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">输入：x = -123</span><br><span class="line">输出：-321</span><br></pre></td></tr></tbody></table></figure>
<p><strong>示例 3：</strong></p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">输入：x = 120</span><br><span class="line">输出：21</span><br></pre></td></tr></tbody></table></figure>
<p><strong>示例 4：</strong></p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">输入：x = 0</span><br><span class="line">输出：0</span><br></pre></td></tr></tbody></table></figure>
<p><strong>提示：</strong></p>
<ul>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>−</mo><msup><mn>2</mn><mn>31</mn></msup><mo>&lt;</mo><mo>=</mo><mi>x</mi><mo>&lt;</mo><mo>=</mo><msup><mn>2</mn><mn>31</mn></msup><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">-2^{31} &lt;= x &lt;= 2^{31} - 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord">−</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span></li>
</ul>
</blockquote>
<h2 id="解题思路"><a class="markdownIt-Anchor" href="#解题思路"></a> 解题思路</h2>
<p><mark><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mn>31</mn></msup><mo>−</mo><mn>1</mn><mo>=</mo><mn>2147483647</mn></mrow><annotation encoding="application/x-tex">2^{31} - 1=2147483647</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord">1</span><span class="mord">4</span><span class="mord">7</span><span class="mord">4</span><span class="mord">8</span><span class="mord">3</span><span class="mord">6</span><span class="mord">4</span><span class="mord">7</span></span></span></span></mark></p>
<p><mark><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>−</mo><msup><mn>2</mn><mn>31</mn></msup><mo>=</mo><mo>−</mo><mn>2147483648</mn></mrow><annotation encoding="application/x-tex">-2^{31}=-2147483648</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord">−</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">−</span><span class="mord">2</span><span class="mord">1</span><span class="mord">4</span><span class="mord">7</span><span class="mord">4</span><span class="mord">8</span><span class="mord">3</span><span class="mord">6</span><span class="mord">4</span><span class="mord">8</span></span></span></span></mark></p>
<p>考虑到 int 类型的数据进行反转后可能超过 int 类型最大范围，应对反转后结果到达 9 位数时进行判断。</p>
<h2 id="代码实现"><a class="markdownIt-Anchor" href="#代码实现"></a> 代码实现</h2>
<figure class="highlight cpp"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> {</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">reverse</span><span class="params">(<span class="type">int</span> x)</span> </span>{</span><br><span class="line">        <span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> t = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(x != <span class="number">0</span>)</span><br><span class="line">        {</span><br><span class="line">            t = x % <span class="number">10</span>;</span><br><span class="line">            <span class="keyword">if</span>(ans&gt;<span class="number">214748364</span>||(ans==<span class="number">214748364</span>&amp;&amp;t&gt;<span class="number">7</span>))</span><br><span class="line">            {</span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(ans&lt;<span class="number">-214748364</span>||(ans==<span class="number">-214748364</span>&amp;&amp;t&gt;<span class="number">7</span>))</span><br><span class="line">            {</span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">            }</span><br><span class="line">            x /= <span class="number">10</span>;</span><br><span class="line">            ans = ans * <span class="number">10</span> + t;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    }</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure>
]]></content>
      <categories>
        <category>CS</category>
        <category>algorithm</category>
      </categories>
      <tags>
        <tag>CS</tag>
        <tag>C++</tag>
        <tag>algorithm</tag>
      </tags>
  </entry>
  <entry>
    <title>(洛谷) P1036 选数</title>
    <url>/posts/7d6020f3.html</url>
    <content><![CDATA[<blockquote>
<h2 id="题目描述"><a class="markdownIt-Anchor" href="#题目描述"></a> 题目描述</h2>
<p>已知 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span> 个整数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>2</mn></msub><mo separator="true">,</mo><mo>⋯</mo><mtext> </mtext><mo separator="true">,</mo><msub><mi>x</mi><mi>n</mi></msub></mrow><annotation encoding="application/x-tex">x_1,x_2,\cdots,x_n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，以及 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 个整数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span>（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi><mo>&lt;</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">k&lt;n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.73354em;vertical-align:-0.0391em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span>）。从 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span> 个整数中任选 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span> 个整数相加，可分别得到一系列的和。例如当 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>=</mo><mn>4</mn></mrow><annotation encoding="application/x-tex">n=4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">4</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi><mo>=</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">k=3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">3</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn></mrow><annotation encoding="application/x-tex">4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">4</span></span></span></span> 个整数分别为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn><mo separator="true">,</mo><mn>7</mn><mo separator="true">,</mo><mn>12</mn><mo separator="true">,</mo><mn>19</mn></mrow><annotation encoding="application/x-tex">3,7,12,19</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">7</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mord">9</span></span></span></span> 时，可得全部的组合与它们的和为：</p>
<span id="more"></span>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn><mo>+</mo><mn>7</mn><mo>+</mo><mn>12</mn><mo>=</mo><mn>22</mn></mrow><annotation encoding="application/x-tex">3+7+12=22</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">7</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord">2</span></span></span></span></p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn><mo>+</mo><mn>7</mn><mo>+</mo><mn>19</mn><mo>=</mo><mn>29</mn></mrow><annotation encoding="application/x-tex">3+7+19=29</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">7</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">9</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord">9</span></span></span></span></p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>7</mn><mo>+</mo><mn>12</mn><mo>+</mo><mn>19</mn><mo>=</mo><mn>38</mn></mrow><annotation encoding="application/x-tex">7+12+19=38</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">7</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">9</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">3</span><span class="mord">8</span></span></span></span></p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn><mo>+</mo><mn>12</mn><mo>+</mo><mn>19</mn><mo>=</mo><mn>34</mn></mrow><annotation encoding="application/x-tex">3+12+19=34</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">9</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">3</span><span class="mord">4</span></span></span></span></p>
<p>现在，要求你计算出和为素数共有多少种。</p>
<p>例如上例，只有一种的和为素数：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn><mo>+</mo><mn>7</mn><mo>+</mo><mn>19</mn><mo>=</mo><mn>29</mn></mrow><annotation encoding="application/x-tex">3+7+19=29</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">7</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">9</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord">9</span></span></span></span>。</p>
<h2 id="输入格式"><a class="markdownIt-Anchor" href="#输入格式"></a> 输入格式</h2>
<p>第一行两个空格隔开的整数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo separator="true">,</mo><mi>k</mi></mrow><annotation encoding="application/x-tex">n,k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">n</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span>（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>≤</mo><mi>n</mi><mo>≤</mo><mn>20</mn></mrow><annotation encoding="application/x-tex">1 \le n \le 20</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord">0</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi><mo>&lt;</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">k&lt;n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.73354em;vertical-align:-0.0391em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span>）。</p>
<p>第二行 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span> 个整数，分别为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>2</mn></msub><mo separator="true">,</mo><mo>⋯</mo><mtext> </mtext><mo separator="true">,</mo><msub><mi>x</mi><mi>n</mi></msub></mrow><annotation encoding="application/x-tex">x_1,x_2,\cdots,x_n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>≤</mo><msub><mi>x</mi><mi>i</mi></msub><mo>≤</mo><mn>5</mn><mo>×</mo><mn>1</mn><msup><mn>0</mn><mn>6</mn></msup></mrow><annotation encoding="application/x-tex">1 \le x_i \le 5\times 10^6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7859700000000001em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">5</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">6</span></span></span></span></span></span></span></span></span></span></span>）。</p>
<h2 id="输出格式"><a class="markdownIt-Anchor" href="#输出格式"></a> 输出格式</h2>
<p>输出一个整数，表示种类数。</p>
<h2 id="样例-1"><a class="markdownIt-Anchor" href="#样例-1"></a> 样例 #1</h2>
<h3 id="样例输入-1"><a class="markdownIt-Anchor" href="#样例输入-1"></a> 样例输入 #1</h3>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">4 3</span><br><span class="line">3 7 12 19</span><br></pre></td></tr></tbody></table></figure>
<h3 id="样例输出-1"><a class="markdownIt-Anchor" href="#样例输出-1"></a> 样例输出 #1</h3>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">1</span><br></pre></td></tr></tbody></table></figure>
<h2 id="提示"><a class="markdownIt-Anchor" href="#提示"></a> 提示</h2>
<p><strong>【题目来源】</strong></p>
<p>NOIP 2002 普及组第二题</p>
</blockquote>
<h2 id="题解"><a class="markdownIt-Anchor" href="#题解"></a> 题解</h2>
<figure class="highlight cpp"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">isPrime</span><span class="params">(<span class="type">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">if</span> (n &lt;= <span class="number">3</span>)</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> n &gt;= <span class="number">2</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">2</span>; i * i &lt;= n; ++i)</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">if</span> (n % i == <span class="number">0</span>)</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">popcount</span><span class="params">(<span class="type">int</span> n)</span> <span class="comment">// 判断一个数在二进制下有几个1</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="type">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (n &gt; <span class="number">0</span>)</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">if</span> (n % <span class="number">2</span>)</span><br><span class="line">            ++cnt;</span><br><span class="line">        n /= <span class="number">2</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> cnt;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="type">int</span> n, k;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; k;</span><br><span class="line">    <span class="type">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">nums</span><span class="params">(n)</span></span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; ++i)</span><br><span class="line">    {</span><br><span class="line">        cin &gt;&gt; nums[i];</span><br><span class="line">    }</span><br><span class="line">    <span class="type">int</span> U = <span class="number">1</span> &lt;&lt; n;             <span class="comment">// 全集U</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; U; ++i) <span class="comment">// i是U的子集，遍历U的所有子集</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">popcount</span>(i) == k) <span class="comment">// 找到k个元素的子集</span></span><br><span class="line">        {</span><br><span class="line">            <span class="type">int</span> sum = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; n; ++j)</span><br><span class="line">            {</span><br><span class="line">                <span class="keyword">if</span> (i &amp; (<span class="number">1</span> &lt;&lt; j)) <span class="comment">// 如果第j个元素在子集i中</span></span><br><span class="line">                    sum += nums[j];</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">isPrime</span>(sum))</span><br><span class="line">                ++cnt;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    cout &lt;&lt; cnt;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
]]></content>
      <categories>
        <category>CS</category>
        <category>algorithm</category>
      </categories>
      <tags>
        <tag>CS</tag>
        <tag>algorithm</tag>
      </tags>
  </entry>
  <entry>
    <title>(洛谷) P1102A-B 数对</title>
    <url>/posts/f7c7b95.html</url>
    <content><![CDATA[<blockquote>
<h2 id="题目背景"><a class="markdownIt-Anchor" href="#题目背景"></a> 题目背景</h2>
<p>出题是一件痛苦的事情！</p>
<p>相同的题目看多了也会有审美疲劳，于是我舍弃了大家所熟悉的 A+B Problem，改用 A-B 了哈哈！</p>
<span id="more"></span>
<h2 id="题目描述"><a class="markdownIt-Anchor" href="#题目描述"></a> 题目描述</h2>
<p>给出一串正整数数列以及一个正整数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span>，要求计算出所有满足 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>−</mo><mi>B</mi><mo>=</mo><mi>C</mi></mrow><annotation encoding="application/x-tex">A - B = C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span> 的数对的个数（不同位置的数字一样的数对算不同的数对）。</p>
<h2 id="输入格式"><a class="markdownIt-Anchor" href="#输入格式"></a> 输入格式</h2>
<p>输入共两行。</p>
<p>第一行，两个正整数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo separator="true">,</mo><mi>C</mi></mrow><annotation encoding="application/x-tex">N,C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span>。</p>
<p>第二行，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> 个正整数，作为要求处理的那串数。</p>
<h2 id="输出格式"><a class="markdownIt-Anchor" href="#输出格式"></a> 输出格式</h2>
<p>一行，表示该串正整数中包含的满足 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>−</mo><mi>B</mi><mo>=</mo><mi>C</mi></mrow><annotation encoding="application/x-tex">A - B = C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span> 的数对的个数。</p>
<h2 id="样例-1"><a class="markdownIt-Anchor" href="#样例-1"></a> 样例 #1</h2>
<h3 id="样例输入-1"><a class="markdownIt-Anchor" href="#样例输入-1"></a> 样例输入 #1</h3>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">4 1</span><br><span class="line">1 1 2 3</span><br></pre></td></tr></tbody></table></figure>
<h3 id="样例输出-1"><a class="markdownIt-Anchor" href="#样例输出-1"></a> 样例输出 #1</h3>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">3</span><br></pre></td></tr></tbody></table></figure>
<h2 id="提示"><a class="markdownIt-Anchor" href="#提示"></a> 提示</h2>
<p>对于 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>75</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">75\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.80556em;vertical-align:-0.05556em;"></span><span class="mord">7</span><span class="mord">5</span><span class="mord">%</span></span></span></span> 的数据，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>≤</mo><mi>N</mi><mo>≤</mo><mn>2000</mn></mrow><annotation encoding="application/x-tex">1 \leq N \leq 2000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.13597em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span>。</p>
<p>对于 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>100</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">100\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.80556em;vertical-align:-0.05556em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">%</span></span></span></span> 的数据，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>≤</mo><mi>N</mi><mo>≤</mo><mn>2</mn><mo>×</mo><mn>1</mn><msup><mn>0</mn><mn>5</mn></msup></mrow><annotation encoding="application/x-tex">1 \leq N \leq 2 \times 10^5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.13597em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span></span></span></span></span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>≤</mo><msub><mi>a</mi><mi>i</mi></msub><mo>&lt;</mo><msup><mn>2</mn><mn>30</mn></msup></mrow><annotation encoding="application/x-tex">0 \leq a_i &lt;2^{30}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.6891em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="mord mtight">0</span></span></span></span></span></span></span></span></span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>≤</mo><mi>C</mi><mo>&lt;</mo><msup><mn>2</mn><mn>30</mn></msup></mrow><annotation encoding="application/x-tex">1 \leq C &lt; 2^{30}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72243em;vertical-align:-0.0391em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="mord mtight">0</span></span></span></span></span></span></span></span></span></span></span></span>。</p>
<p>2017/4/29 新添数据两组</p>
</blockquote>
<h2 id="思路"><a class="markdownIt-Anchor" href="#思路"></a> 思路</h2>
<p>分析题目可知，对于任意一个 A，均有唯一一个数值 B，满足<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi> A</mi><mo>−</mo><mi>B</mi><mo>=</mo><mi>C</mi></mrow><annotation encoding="application/x-tex">A - B = C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span>，因此，我们只要用二分查找来查找对于这个数组中的 arr [i]，有多少项满足其值等于对应的值即可。</p>
<p>在 C++ STL（标准模板库）中，<code>upper_bound()</code> 和 <code>lower_bound()</code> 函数是用于对有序容器进行二分查找的常用函数。</p>
<p><code>lower_bound()</code> 函数接受两个参数：容器的起始和结束迭代器，以及要查找的值。它返回一个指向容器中第一个大于或等于查找值的迭代器，如果容器中所有元素都小于查找值，则返回容器的结束迭代器。例如，如果我们有一个有序的 <code>vector&lt;int&gt;</code> 容器 <code>v</code>，并且要查找值 <code>x</code>，则可以使用以下代码来查找第一个大于或等于 <code>x</code> 的元素：</p>
<figure class="highlight cpp"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">auto</span> it = std::<span class="built_in">lower_bound</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), x);</span><br></pre></td></tr></tbody></table></figure>
<p><code>upper_bound()</code> 函数的行为与 <code>lower_bound()</code> 函数类似，但它返回的是一个指向容器中第一个大于查找值的迭代器，而不是大于或等于。例如，如果我们有一个有序的 <code>vector&lt;int&gt;</code> 容器 <code>v</code>，并且要查找值 <code>x</code>，则可以使用以下代码来查找第一个大于 <code>x</code> 的元素：</p>
<figure class="highlight cpp"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">auto</span> it = std::<span class="built_in">upper_bound</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), x);</span><br></pre></td></tr></tbody></table></figure>
<p>这两个函数通常用于在有序容器中进行二分查找。它们的时间复杂度为 O (log n)，其中 <code>n</code> 是容器中元素的数量。</p>
<p>我们只要用<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi> s</mi><mi>t</mi><mi>d</mi><mo>:</mo><mo>:</mo><mi>u</mi><mi>p</mi><mi>p</mi><mi>e</mi><mi>r</mi><mi mathvariant="normal">_</mi><mi>b</mi><mi>o</mi><mi>u</mi><mi>n</mi><mi>d</mi><mo stretchy="false">(</mo><mi>v</mi><mi mathvariant="normal">.</mi><mi>b</mi><mi>e</mi><mi>g</mi><mi>i</mi><mi>n</mi><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>v</mi><mi mathvariant="normal">.</mi><mi>e</mi><mi>n</mi><mi>d</mi><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>x</mi><mo stretchy="false">)</mo><mo>−</mo><mi>l</mi><mi>o</mi><mi>w</mi><mi>e</mi><mi>r</mi><mi mathvariant="normal">_</mi><mi>b</mi><mi>o</mi><mi>u</mi><mi>n</mi><mi>d</mi><mo stretchy="false">(</mo><mi>v</mi><mi mathvariant="normal">.</mi><mi>b</mi><mi>e</mi><mi>g</mi><mi>i</mi><mi>n</mi><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>v</mi><mi mathvariant="normal">.</mi><mi>e</mi><mi>n</mi><mi>d</mi><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">std::upper\_bound(v.begin(), v.end(), x) - lower\_bound(v.begin(), v.end(), x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">t</span><span class="mord mathnormal">d</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.06em;vertical-align:-0.31em;"></span><span class="mord mathnormal">u</span><span class="mord mathnormal">p</span><span class="mord mathnormal">p</span><span class="mord mathnormal">e</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord mathnormal">b</span><span class="mord mathnormal">o</span><span class="mord mathnormal">u</span><span class="mord mathnormal">n</span><span class="mord mathnormal">d</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mord">.</span><span class="mord mathnormal">b</span><span class="mord mathnormal">e</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">i</span><span class="mord mathnormal">n</span><span class="mopen">(</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mord">.</span><span class="mord mathnormal">e</span><span class="mord mathnormal">n</span><span class="mord mathnormal">d</span><span class="mopen">(</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.06em;vertical-align:-0.31em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mord mathnormal">e</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord mathnormal">b</span><span class="mord mathnormal">o</span><span class="mord mathnormal">u</span><span class="mord mathnormal">n</span><span class="mord mathnormal">d</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mord">.</span><span class="mord mathnormal">b</span><span class="mord mathnormal">e</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">i</span><span class="mord mathnormal">n</span><span class="mopen">(</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mord">.</span><span class="mord mathnormal">e</span><span class="mord mathnormal">n</span><span class="mord mathnormal">d</span><span class="mopen">(</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span> 就能得到对应值的项数。</p>
<h2 id="题解"><a class="markdownIt-Anchor" href="#题解"></a> 题解</h2>
<figure class="highlight cpp"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="type">int</span> n, c;</span><br><span class="line">    <span class="type">long</span> <span class="type">long</span> ans = <span class="number">0</span>;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; c;</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">arr</span><span class="params">(n)</span></span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; ++i)</span><br><span class="line">    {</span><br><span class="line">        cin &gt;&gt; arr[i];</span><br><span class="line">    }</span><br><span class="line">    <span class="built_in">sort</span>(arr.<span class="built_in">begin</span>(), arr.<span class="built_in">begin</span>() + n);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; ++i)</span><br><span class="line">    {</span><br><span class="line">        ans += <span class="built_in">upper_bound</span>(arr.<span class="built_in">begin</span>(), arr.<span class="built_in">begin</span>() + n, arr[i] + c) - <span class="built_in">lower_bound</span>(arr.<span class="built_in">begin</span>(), arr.<span class="built_in">begin</span>() + n, arr[i] + c);</span><br><span class="line">    }</span><br><span class="line">    cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
]]></content>
      <categories>
        <category>CS</category>
        <category>algorithm</category>
      </categories>
      <tags>
        <tag>CS</tag>
        <tag>C++</tag>
        <tag>algorithm</tag>
        <tag>binary search</tag>
      </tags>
  </entry>
  <entry>
    <title>(洛谷) P1157 组合的输出</title>
    <url>/posts/cf585d76.html</url>
    <content><![CDATA[<blockquote>
<h2 id="题目描述"><a class="markdownIt-Anchor" href="#题目描述"></a> 题目描述</h2>
<p>排列与组合是常用的数学方法，其中组合就是从 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span> 个元素中抽出 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span> 个元素（不分顺序且 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mo>≤</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">r \le n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span>），我们可以简单地将 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span> 个元素理解为自然数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">1,2,\dots,n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">n</span></span></span></span>，从中任取 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span> 个数。</p>
<p>现要求你输出所有组合。</p>
<span id="more"></span>
<p>例如 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>=</mo><mn>5</mn><mo separator="true">,</mo><mi>r</mi><mo>=</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">n=5,r=3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">3</span></span></span></span>，所有组合为：</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>123</mn><mo separator="true">,</mo><mn>124</mn><mo separator="true">,</mo><mn>125</mn><mo separator="true">,</mo><mn>134</mn><mo separator="true">,</mo><mn>135</mn><mo separator="true">,</mo><mn>145</mn><mo separator="true">,</mo><mn>234</mn><mo separator="true">,</mo><mn>235</mn><mo separator="true">,</mo><mn>245</mn><mo separator="true">,</mo><mn>345</mn></mrow><annotation encoding="application/x-tex">123,124,125,134,135,145,234,235,245,345</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">1</span><span class="mord">2</span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mord">2</span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mord">2</span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mord">3</span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mord">3</span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mord">4</span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span><span class="mord">3</span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span><span class="mord">3</span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span><span class="mord">4</span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">3</span><span class="mord">4</span><span class="mord">5</span></span></span></span>。</p>
<h2 id="输入格式"><a class="markdownIt-Anchor" href="#输入格式"></a> 输入格式</h2>
<p>一行两个自然数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo separator="true">,</mo><mi>r</mi><mo stretchy="false">(</mo><mn>1</mn><mo>&lt;</mo><mi>n</mi><mo>&lt;</mo><mn>21</mn><mo separator="true">,</mo><mn>0</mn><mo>≤</mo><mi>r</mi><mo>≤</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">n,r(1&lt;n&lt;21,0 \le r \le n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">n</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">2</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span>。</p>
<h2 id="输出格式"><a class="markdownIt-Anchor" href="#输出格式"></a> 输出格式</h2>
<p>所有的组合，每一个组合占一行且其中的元素按由小到大的顺序排列，每个元素占三个字符的位置，所有的组合也按字典顺序。</p>
<p><strong>注意哦！输出时，每个数字需要 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn></mrow><annotation encoding="application/x-tex">3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">3</span></span></span></span> 个场宽。以 C++ 为例，你可以使用下列代码：</strong></p>
<figure class="highlight cpp"><table><tbody><tr><td class="code"><pre><span class="line">cout &lt;&lt; <span class="built_in">setw</span>(<span class="number">3</span>) &lt;&lt; x;</span><br></pre></td></tr></tbody></table></figure>
<p>输出占 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn></mrow><annotation encoding="application/x-tex">3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">3</span></span></span></span> 个场宽的数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span></span></span></span>。注意你需要头文件 <code>iomanip</code>。</p>
<h2 id="样例-1"><a class="markdownIt-Anchor" href="#样例-1"></a> 样例 #1</h2>
<h3 id="样例输入-1"><a class="markdownIt-Anchor" href="#样例输入-1"></a> 样例输入 #1</h3>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">5 3</span><br></pre></td></tr></tbody></table></figure>
<h3 id="样例输出-1"><a class="markdownIt-Anchor" href="#样例输出-1"></a> 样例输出 #1</h3>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">1  2  3</span><br><span class="line">1  2  4</span><br><span class="line">1  2  5</span><br><span class="line">1  3  4</span><br><span class="line">1  3  5</span><br><span class="line">1  4  5</span><br><span class="line">2  3  4</span><br><span class="line">2  3  5</span><br><span class="line">2  4  5</span><br><span class="line">3  4  5</span><br></pre></td></tr></tbody></table></figure>
</blockquote>
<h2 id="题解"><a class="markdownIt-Anchor" href="#题解"></a> 题解</h2>
<figure class="highlight cpp"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="type">int</span> n, r;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; r;</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">nums</span><span class="params">(n, <span class="number">0</span>)</span></span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = r; i &lt; n; ++i)<span class="comment">//用next_permutation函数排列的话要使1在数组后面</span></span><br><span class="line">    {<span class="comment">//0代表选择，1代表不选择</span></span><br><span class="line">        nums[i] = <span class="number">1</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">do</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; ++i)</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">if</span> (nums[i] == <span class="number">0</span>)<span class="comment">//遇到0（选择此数）就输出i+1，即其所对应的编号</span></span><br><span class="line">            {</span><br><span class="line">                cout &lt;&lt; <span class="built_in">setw</span>(<span class="number">3</span>) &lt;&lt; i + <span class="number">1</span>;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        cout &lt;&lt; <span class="string">"\n"</span>;</span><br><span class="line">    } <span class="keyword">while</span> (<span class="built_in">next_permutation</span>(nums.<span class="built_in">begin</span>(), nums.<span class="built_in">end</span>()));</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
]]></content>
      <categories>
        <category>CS</category>
        <category>algorithm</category>
      </categories>
      <tags>
        <tag>CS</tag>
        <tag>C++</tag>
        <tag>algorithm</tag>
        <tag>permutation</tag>
      </tags>
  </entry>
  <entry>
    <title>(洛谷) P1739 表达式括号匹配</title>
    <url>/posts/6d1f218b.html</url>
    <content><![CDATA[<blockquote>
<h2 id="题目描述"><a class="markdownIt-Anchor" href="#题目描述"></a> 题目描述</h2>
<p>假设一个表达式有英文字母（小写）、运算符（<code>+</code>、<code>-</code>、<code>*</code>、<code>/</code>）和左右小（圆）括号构成，以 <code>@</code> 作为表达式的结束符。请编写一个程序检查表达式中的左右圆括号是否匹配，若匹配，则输出 <code>YES</code>；否则输出 <code>NO</code>。表达式长度小于 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>255</mn></mrow><annotation encoding="application/x-tex">255</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord">5</span><span class="mord">5</span></span></span></span>，左圆括号少于 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>20</mn></mrow><annotation encoding="application/x-tex">20</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord">0</span></span></span></span> 个。</p>
<span id="more"></span>
<h2 id="输入格式"><a class="markdownIt-Anchor" href="#输入格式"></a> 输入格式</h2>
<p>一行：表达式。</p>
<h2 id="输出格式"><a class="markdownIt-Anchor" href="#输出格式"></a> 输出格式</h2>
<p>一行：<code>YES</code> 或 <code>NO</code>。</p>
<h2 id="样例-1"><a class="markdownIt-Anchor" href="#样例-1"></a> 样例 #1</h2>
<h3 id="样例输入-1"><a class="markdownIt-Anchor" href="#样例输入-1"></a> 样例输入 #1</h3>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">2*(x+y)/(1-x)@</span><br></pre></td></tr></tbody></table></figure>
<h3 id="样例输出-1"><a class="markdownIt-Anchor" href="#样例输出-1"></a> 样例输出 #1</h3>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">YES</span><br></pre></td></tr></tbody></table></figure>
<h2 id="样例-2"><a class="markdownIt-Anchor" href="#样例-2"></a> 样例 #2</h2>
<h3 id="样例输入-2"><a class="markdownIt-Anchor" href="#样例输入-2"></a> 样例输入 #2</h3>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">(25+x)*(a*(a+b+b)@</span><br></pre></td></tr></tbody></table></figure>
<h3 id="样例输出-2"><a class="markdownIt-Anchor" href="#样例输出-2"></a> 样例输出 #2</h3>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">NO</span><br></pre></td></tr></tbody></table></figure>
<h2 id="提示"><a class="markdownIt-Anchor" href="#提示"></a> 提示</h2>
<p>表达式长度小于 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>255</mn></mrow><annotation encoding="application/x-tex">255</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord">5</span><span class="mord">5</span></span></span></span>，左圆括号少于 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>20</mn></mrow><annotation encoding="application/x-tex">20</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord">0</span></span></span></span> 个。</p>
</blockquote>
<h2 id="题解"><a class="markdownIt-Anchor" href="#题解"></a> 题解</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	stack&lt;<span class="type">int</span>&gt; input;</span><br><span class="line">	string str;</span><br><span class="line">	cin &gt;&gt; str;</span><br><span class="line">	str.<span class="built_in">pop_back</span>();</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">auto</span> i : str)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">if</span> (i == <span class="string">'('</span>)</span><br><span class="line">		{</span><br><span class="line">			input.<span class="built_in">push</span>(i);</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (i == <span class="string">')'</span>)</span><br><span class="line">		{</span><br><span class="line">			<span class="keyword">if</span> (input.<span class="built_in">empty</span>())</span><br><span class="line">			{</span><br><span class="line">				cout &lt;&lt; <span class="string">"NO"</span> &lt;&lt; endl;</span><br><span class="line">				<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">			}</span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line">			{</span><br><span class="line">				input.<span class="built_in">pop</span>();</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">if</span> (input.<span class="built_in">empty</span>())</span><br><span class="line">	{</span><br><span class="line">		cout &lt;&lt; <span class="string">"YES"</span> &lt;&lt; endl;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	{</span><br><span class="line">		cout &lt;&lt; <span class="string">"NO"</span> &lt;&lt; endl;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>]]></content>
      <categories>
        <category>CS</category>
        <category>algorithm</category>
      </categories>
      <tags>
        <tag>CS</tag>
        <tag>C++</tag>
        <tag>algorithm</tag>
        <tag>stack</tag>
      </tags>
  </entry>
  <entry>
    <title>(洛谷) P1928 外星密码</title>
    <url>/posts/36528647.html</url>
    <content><![CDATA[<blockquote>
<h2 id="题目描述"><a class="markdownIt-Anchor" href="#题目描述"></a> 题目描述</h2>
<p>有了防护伞，并不能完全避免 2012 的灾难。地球防卫小队决定去求助外星种族的帮助。经过很长时间的努力，小队终于收到了外星生命的回信。但是外星人发过来的却是一串密码。只有解开密码，才能知道外星人给的准确回复。<span id="more"></span>解开密码的第一道工序就是解压缩密码，外星人对于连续的若干个相同的子串 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant="monospace">X</mtext></mrow><annotation encoding="application/x-tex">\texttt{X}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61111em;vertical-align:0em;"></span><span class="mord text"><span class="mord texttt">X</span></span></span></span></span> 会压缩为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant="monospace">[DX]</mtext></mrow><annotation encoding="application/x-tex">\texttt{[DX]}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord text"><span class="mord texttt">[DX]</span></span></span></span></span> 的形式（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>D</mi></mrow><annotation encoding="application/x-tex">D</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span></span></span></span> 是一个整数且 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>≤</mo><mi>D</mi><mo>≤</mo><mn>99</mn></mrow><annotation encoding="application/x-tex">1\leq D\leq99</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.13597em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">9</span><span class="mord">9</span></span></span></span>），比如说字符串 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant="monospace">CBCBCBCB</mtext></mrow><annotation encoding="application/x-tex">\texttt{CBCBCBCB}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61111em;vertical-align:0em;"></span><span class="mord text"><span class="mord texttt">CBCBCBCB</span></span></span></span></span> 就压缩为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant="monospace">[4CB]</mtext></mrow><annotation encoding="application/x-tex">\texttt{[4CB]}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord text"><span class="mord texttt">[4CB]</span></span></span></span></span> 或者<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant="monospace"> [2[2CB]]</mtext></mrow><annotation encoding="application/x-tex">\texttt{[2[2CB]]}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord text"><span class="mord texttt">[2[2CB]]</span></span></span></span></span>，类似于后面这种压缩之后再压缩的称为二重压缩。如果是 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant="monospace">[2[2[2CB]]]</mtext></mrow><annotation encoding="application/x-tex">\texttt{[2[2[2CB]]]}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord text"><span class="mord texttt">[2[2[2CB]]]</span></span></span></span></span> 则是三重的。现在我们给你外星人发送的密码，请你对其进行解压缩。</p>
<h2 id="输入格式"><a class="markdownIt-Anchor" href="#输入格式"></a> 输入格式</h2>
<p>输入一行，一个字符串，表示外星人发送的密码。</p>
<h2 id="输出格式"><a class="markdownIt-Anchor" href="#输出格式"></a> 输出格式</h2>
<p>输出一行，一个字符串，表示解压缩后的结果。</p>
<h2 id="样例-1"><a class="markdownIt-Anchor" href="#样例-1"></a> 样例 #1</h2>
<h3 id="样例输入-1"><a class="markdownIt-Anchor" href="#样例输入-1"></a> 样例输入 #1</h3>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">AC[3FUN]</span><br></pre></td></tr></tbody></table></figure>
<h3 id="样例输出-1"><a class="markdownIt-Anchor" href="#样例输出-1"></a> 样例输出 #1</h3>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">ACFUNFUNFUN</span><br></pre></td></tr></tbody></table></figure>
<h2 id="提示"><a class="markdownIt-Anchor" href="#提示"></a> 提示</h2>
<p>【数据范围】</p>
<p>对于 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>50</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">50\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.80556em;vertical-align:-0.05556em;"></span><span class="mord">5</span><span class="mord">0</span><span class="mord">%</span></span></span></span> 的数据：解压后的字符串长度在 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1000</mn></mrow><annotation encoding="application/x-tex">1000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span> 以内，最多只有三重压缩。</p>
<p>对于 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>100</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">100\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.80556em;vertical-align:-0.05556em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">%</span></span></span></span> 的数据：解压后的字符串长度在 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>20000</mn></mrow><annotation encoding="application/x-tex">20000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span> 以内，最多只有十重压缩。保证只包含数字、大写字母、<code>[</code> 和 <code>]</code>。</p>
</blockquote>
<h2 id="题解"><a class="markdownIt-Anchor" href="#题解"></a> 题解</h2>
<figure class="highlight cpp"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function">string <span class="title">unzip</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    string x, s = <span class="string">""</span>;</span><br><span class="line">    <span class="type">int</span> d;</span><br><span class="line">    <span class="type">char</span> c;</span><br><span class="line">    <span class="keyword">while</span> (cin &gt;&gt; c)</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">if</span> (c == <span class="string">'['</span>)</span><br><span class="line">        {</span><br><span class="line">            cin &gt;&gt; d;</span><br><span class="line">            x = <span class="built_in">unzip</span>();</span><br><span class="line">            <span class="keyword">while</span> (d--)</span><br><span class="line">            {</span><br><span class="line">                s += x;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (c == <span class="string">']'</span>)</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">return</span> s;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        {</span><br><span class="line">            s += c;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> s;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    cout &lt;&lt; <span class="built_in">unzip</span>() &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
]]></content>
      <categories>
        <category>CS</category>
        <category>algorithm</category>
      </categories>
      <tags>
        <tag>C++</tag>
        <tag>algorithm</tag>
        <tag>recursion</tag>
      </tags>
  </entry>
</search>
